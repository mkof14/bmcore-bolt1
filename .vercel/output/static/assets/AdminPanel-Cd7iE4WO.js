import{d as e,j as t,X as s,s as r,E as a,M as l,D as i,t as n,l as o,b as c,U as d,L as m,p as x,k as g,Z as u,A as p,F as h,c as b,r as y,m as f,_ as j,V as v,h as N,T as w,a0 as k}from"./index-D6X-thcP.js";import{r as _}from"./react-vendor-Dq_i0H7_.js";import{B as S}from"./BackButton-Cmh5SsyM.js";import{P as C}from"./plus-DytL0S77.js";import{E as P}from"./eye-off-A1vPREc4.js";import{T as D}from"./trash-2-Bn70IA3x.js";import{createEmailProvider as A,htmlToPlainText as U}from"./emailProvider-DDN7Y-6p.js";import{R as E}from"./refresh-cw-CbFjXYGJ.js";import{U as q,S as F,C as I,E as M,L as B}from"./upload-Cud2G5N6.js";import{K as T}from"./key-clGoRhS5.js";import{C as R}from"./check-circle-BTBdlDbT.js";import{D as L}from"./database-CSPV3aAk.js";import{B as z}from"./bar-chart-3-DaibZ4v6.js";import{C as O}from"./calendar-DkgA9nD7.js";import{X as K}from"./x-circle-C3zAwvQt.js";import{B as $}from"./building-2-KXo2F0wO.js";import{D as Y}from"./dollar-sign-BxWu0EFf.js";import{F as W}from"./flask-conical-tR6DHSgM.js";import{N as H}from"./newspaper-DmAw5Be8.js";import{B as V}from"./briefcase-DN25Hs1e.js";import{G}from"./gift-BhrgP279.js";import"./supabase-D2F8Vsqq.js";
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=e("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]),X=e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Z=e("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),Q=e("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),ee=e("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),te=e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),se=e("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),re=e("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ae=e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),le=e("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function ie({post:e,onClose:a,onSave:l}){const[i,n]=_.useState({title:"",slug:"",excerpt:"",content:"",featured_image:"",category:"health",tags:"",status:"draft"}),[o,c]=_.useState(!1);_.useEffect(()=>{var t;e&&n({title:e.title,slug:e.slug,excerpt:e.excerpt,content:e.content,featured_image:e.featured_image||"",category:e.category,tags:(null==(t=e.tags)?void 0:t.join(", "))||"",status:e.status})},[e]);const d=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:e?"Edit Post":"Create New Post"}),t.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:t.jsx(s,{className:"h-5 w-5 text-gray-400"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Title"}),t.jsx("input",{type:"text",value:i.title,onChange:e=>{return t=e.target.value,void n({...i,title:t,slug:d(t)});var t},className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter post title"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Slug"}),t.jsx("input",{type:"text",value:i.slug,onChange:e=>n({...i,slug:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"post-url-slug"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Excerpt"}),t.jsx("textarea",{value:i.excerpt,onChange:e=>n({...i,excerpt:e.target.value}),rows:2,className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Brief description"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Content"}),t.jsx("textarea",{value:i.content,onChange:e=>n({...i,content:e.target.value}),rows:12,className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Write your post content here..."})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Category"}),t.jsxs("select",{value:i.category,onChange:e=>n({...i,category:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[t.jsx("option",{value:"health",children:"Health"}),t.jsx("option",{value:"science",children:"Science"}),t.jsx("option",{value:"technology",children:"Technology"}),t.jsx("option",{value:"wellness",children:"Wellness"}),t.jsx("option",{value:"research",children:"Research"}),t.jsx("option",{value:"news",children:"News"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Status"}),t.jsxs("select",{value:i.status,onChange:e=>n({...i,status:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"published",children:"Published"}),t.jsx("option",{value:"archived",children:"Archived"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Featured Image URL"}),t.jsx("input",{type:"text",value:i.featured_image,onChange:e=>n({...i,featured_image:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"https://example.com/image.jpg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Tags (comma-separated)"}),t.jsx("input",{type:"text",value:i.tags,onChange:e=>n({...i,tags:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"health, wellness, science"})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:async()=>{if(i.title&&i.content){c(!0);try{const t=i.tags.split(",").map(e=>e.trim()).filter(e=>e),s={title:i.title,slug:i.slug,excerpt:i.excerpt,content:i.content,featured_image:i.featured_image||null,category:i.category,tags:t,status:i.status,published_at:"published"===i.status?(new Date).toISOString():null};if(e){const{error:t}=await r.from("blog_posts").update(s).eq("id",e.id);if(t)throw t}else{const{error:e}=await r.from("blog_posts").insert(s);if(e)throw e}l(),a()}catch(t){alert("Failed to save post")}finally{c(!1)}}else alert("Title and content are required")},disabled:o,className:"px-6 py-2 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-lg hover:from-orange-500 hover:to-orange-600 transition-all disabled:opacity-50",children:o?"Saving...":"Save Post"}),t.jsx("button",{onClick:a,className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})})}function ne(){const[e,s]=_.useState([]),[l,i]=_.useState(!0),[n,o]=_.useState(!1),[c,d]=_.useState(null);async function m(){try{const{data:e,error:t}=await r.from("blog_posts").select("*").order("created_at",{ascending:!1});if(t)throw t;s(e||[])}catch(e){}finally{i(!1)}}return _.useEffect(()=>{m()},[]),l?t.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading posts..."}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Blog Management"}),t.jsxs("button",{onClick:()=>{d(null),o(!0)},className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[t.jsx(C,{className:"h-5 w-5"}),"New Post"]})]}),t.jsx("div",{className:"space-y-4",children:e.map(e=>t.jsx("div",{className:"bg-gray-800/50 border border-gray-700/30 border border-gray-700/50 rounded-xl p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:e.title}),t.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full "+("published"===e.status?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:e.status})]}),t.jsx("p",{className:"text-gray-400 mb-3",children:e.excerpt}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-500",children:[t.jsx("span",{children:e.category}),t.jsx("span",{children:"•"}),t.jsx("span",{children:new Date(e.created_at).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.jsx("button",{onClick:()=>async function(e){const t="published"===e.status?"draft":"published";try{const{error:s}=await r.from("blog_posts").update({status:t}).eq("id",e.id);if(s)throw s;await m()}catch(s){alert("Failed to update status")}}(e),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"published"===e.status?"Unpublish":"Publish",children:"published"===e.status?t.jsx(P,{className:"h-5 w-5 text-gray-400"}):t.jsx(a,{className:"h-5 w-5 text-gray-400"})}),t.jsx("button",{onClick:()=>{d(e),o(!0)},className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg transition-colors",children:t.jsx(ee,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),t.jsx("button",{onClick:()=>async function(e){if(confirm("Are you sure you want to delete this post?"))try{const{error:t}=await r.from("blog_posts").delete().eq("id",e);if(t)throw t;await m()}catch(t){alert("Failed to delete post")}}(e.id),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg transition-colors",children:t.jsx(D,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})]})},e.id))}),0===e.length&&t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-gray-400",children:"No blog posts yet. Create your first one!"})}),n&&t.jsx(ie,{post:c,onClose:()=>{o(!1),d(null)},onSave:m})]})}function oe({item:e,onClose:a,onSave:l}){const[i,n]=_.useState({title:"",slug:"",excerpt:"",content:"",image_url:"",status:"draft",priority:0}),[o,c]=_.useState(!1);_.useEffect(()=>{e&&n({title:e.title,slug:e.slug,excerpt:e.excerpt,content:e.content,image_url:e.image_url||"",status:e.status,priority:e.priority})},[e]);const d=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:e?"Edit News Item":"Create News Item"}),t.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:t.jsx(s,{className:"h-5 w-5 text-gray-400"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Title"}),t.jsx("input",{type:"text",value:i.title,onChange:e=>{return t=e.target.value,void n({...i,title:t,slug:d(t)});var t},className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter news title"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Slug"}),t.jsx("input",{type:"text",value:i.slug,onChange:e=>n({...i,slug:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"news-url-slug"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Excerpt"}),t.jsx("textarea",{value:i.excerpt,onChange:e=>n({...i,excerpt:e.target.value}),rows:2,className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Brief description"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Content"}),t.jsx("textarea",{value:i.content,onChange:e=>n({...i,content:e.target.value}),rows:12,className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Write your news content here..."})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Status"}),t.jsxs("select",{value:i.status,onChange:e=>n({...i,status:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"published",children:"Published"}),t.jsx("option",{value:"archived",children:"Archived"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Priority"}),t.jsx("input",{type:"number",value:i.priority,onChange:e=>n({...i,priority:parseInt(e.target.value)||0}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"0",min:"0"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Image URL"}),t.jsx("input",{type:"text",value:i.image_url,onChange:e=>n({...i,image_url:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"https://example.com/image.jpg"})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:async()=>{if(i.title&&i.content){c(!0);try{const t={title:i.title,slug:i.slug,excerpt:i.excerpt,content:i.content,image_url:i.image_url||null,status:i.status,priority:i.priority,published_at:"published"===i.status?(new Date).toISOString():null};if(e){const{error:s}=await r.from("news_items").update(t).eq("id",e.id);if(s)throw s}else{const{error:e}=await r.from("news_items").insert(t);if(e)throw e}l(),a()}catch(t){alert("Failed to save news item")}finally{c(!1)}}else alert("Title and content are required")},disabled:o,className:"px-6 py-2 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-lg hover:from-orange-500 hover:to-orange-600 transition-all disabled:opacity-50",children:o?"Saving...":"Save News"}),t.jsx("button",{onClick:a,className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})})}function ce(){const[e,s]=_.useState([]),[l,i]=_.useState(!0),[n,o]=_.useState(!1),[c,d]=_.useState(null);async function m(){try{const{data:e,error:t}=await r.from("news_items").select("*").order("priority",{ascending:!1}).order("created_at",{ascending:!1});if(t)throw t;s(e||[])}catch(e){}finally{i(!1)}}return _.useEffect(()=>{m()},[]),l?t.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading news..."}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"News Management"}),t.jsxs("button",{onClick:()=>{d(null),o(!0)},className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[t.jsx(C,{className:"h-5 w-5"}),"New News Item"]})]}),t.jsx("div",{className:"space-y-4",children:e.map(e=>t.jsx("div",{className:"bg-gray-800/50 border border-gray-700/30 border border-gray-700/50 rounded-xl p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:e.title}),t.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full "+("published"===e.status?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:e.status}),t.jsxs("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full",children:["Priority: ",e.priority]})]}),t.jsx("p",{className:"text-gray-400 mb-3",children:e.excerpt}),t.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-500",children:t.jsx("span",{children:new Date(e.created_at).toLocaleDateString()})})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.jsx("button",{onClick:()=>async function(e){const t="published"===e.status?"draft":"published";try{const{error:s}=await r.from("news_items").update({status:t}).eq("id",e.id);if(s)throw s;await m()}catch(s){alert("Failed to update status")}}(e),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"published"===e.status?"Unpublish":"Publish",children:"published"===e.status?t.jsx(P,{className:"h-5 w-5 text-gray-400"}):t.jsx(a,{className:"h-5 w-5 text-gray-400"})}),t.jsx("button",{onClick:()=>{d(e),o(!0)},className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg transition-colors",children:t.jsx(ee,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),t.jsx("button",{onClick:()=>async function(e){if(confirm("Are you sure you want to delete this news item?"))try{const{error:t}=await r.from("news_items").delete().eq("id",e);if(t)throw t;await m()}catch(t){alert("Failed to delete news item")}}(e.id),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg transition-colors",children:t.jsx(D,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})]})},e.id))}),0===e.length&&t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-gray-400",children:"No news items yet. Create your first one!"})}),n&&t.jsx(oe,{item:c,onClose:()=>{o(!1),d(null)},onSave:m})]})}function de({job:e,onClose:a,onSave:l}){const[i,n]=_.useState({title:"",slug:"",department:"",location:"",employment_type:"full-time",description:"",requirements:[""],responsibilities:[""],salary_range:"",status:"active"}),[o,c]=_.useState(!1);_.useEffect(()=>{e&&n({title:e.title,slug:e.slug,department:e.department,location:e.location,employment_type:e.employment_type,description:e.description,requirements:e.requirements||[""],responsibilities:e.responsibilities||[""],salary_range:e.salary_range||"",status:e.status})},[e]);const d=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:e?"Edit Job Posting":"Create Job Posting"}),t.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:t.jsx(s,{className:"h-5 w-5 text-gray-400"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Job Title"}),t.jsx("input",{type:"text",value:i.title,onChange:e=>{return t=e.target.value,void n({...i,title:t,slug:d(t)});var t},className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter job title"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Slug"}),t.jsx("input",{type:"text",value:i.slug,onChange:e=>n({...i,slug:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"job-url-slug"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Department"}),t.jsx("input",{type:"text",value:i.department,onChange:e=>n({...i,department:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Engineering, Sales, etc."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Location"}),t.jsx("input",{type:"text",value:i.location,onChange:e=>n({...i,location:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Remote, New York, etc."})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Employment Type"}),t.jsxs("select",{value:i.employment_type,onChange:e=>n({...i,employment_type:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[t.jsx("option",{value:"full-time",children:"Full-time"}),t.jsx("option",{value:"part-time",children:"Part-time"}),t.jsx("option",{value:"contract",children:"Contract"}),t.jsx("option",{value:"internship",children:"Internship"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Status"}),t.jsxs("select",{value:i.status,onChange:e=>n({...i,status:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"closed",children:"Closed"}),t.jsx("option",{value:"draft",children:"Draft"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Salary Range (Optional)"}),t.jsx("input",{type:"text",value:i.salary_range,onChange:e=>n({...i,salary_range:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"$80k - $120k"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description"}),t.jsx("textarea",{value:i.description,onChange:e=>n({...i,description:e.target.value}),rows:4,className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Job description..."})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Requirements"}),t.jsxs("button",{onClick:()=>{n({...i,requirements:[...i.requirements,""]})},className:"flex items-center gap-1 text-sm text-orange-400 hover:text-orange-300",children:[t.jsx(C,{className:"h-4 w-4"}),"Add"]})]}),t.jsx("div",{className:"space-y-2",children:i.requirements.map((e,s)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:e,onChange:e=>((e,t)=>{const s=[...i.requirements];s[e]=t,n({...i,requirements:s})})(s,e.target.value),className:"flex-1 px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Requirement..."}),t.jsx("button",{onClick:()=>(e=>{n({...i,requirements:i.requirements.filter((t,s)=>s!==e)})})(s),className:"p-2 text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",children:t.jsx(D,{className:"h-5 w-5"})})]},s))})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Responsibilities"}),t.jsxs("button",{onClick:()=>{n({...i,responsibilities:[...i.responsibilities,""]})},className:"flex items-center gap-1 text-sm text-orange-400 hover:text-orange-300",children:[t.jsx(C,{className:"h-4 w-4"}),"Add"]})]}),t.jsx("div",{className:"space-y-2",children:i.responsibilities.map((e,s)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:e,onChange:e=>((e,t)=>{const s=[...i.responsibilities];s[e]=t,n({...i,responsibilities:s})})(s,e.target.value),className:"flex-1 px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Responsibility..."}),t.jsx("button",{onClick:()=>(e=>{n({...i,responsibilities:i.responsibilities.filter((t,s)=>s!==e)})})(s),className:"p-2 text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",children:t.jsx(D,{className:"h-5 w-5"})})]},s))})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:async()=>{if(i.title&&i.department){c(!0);try{const t={title:i.title,slug:i.slug,department:i.department,location:i.location,employment_type:i.employment_type,description:i.description,requirements:i.requirements.filter(e=>e.trim()),responsibilities:i.responsibilities.filter(e=>e.trim()),salary_range:i.salary_range||null,status:i.status};if(e){const{error:s}=await r.from("career_postings").update(t).eq("id",e.id);if(s)throw s}else{const{error:e}=await r.from("career_postings").insert(t);if(e)throw e}l(),a()}catch(t){alert("Failed to save job posting")}finally{c(!1)}}else alert("Title and department are required")},disabled:o,className:"px-6 py-2 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-lg hover:from-orange-500 hover:to-orange-600 transition-all disabled:opacity-50",children:o?"Saving...":"Save Job"}),t.jsx("button",{onClick:a,className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})})}function me(){const[e,s]=_.useState([]),[l,i]=_.useState(!0),[n,o]=_.useState(!1),[c,d]=_.useState(null);async function m(){try{const{data:e,error:t}=await r.from("career_postings").select("*").order("created_at",{ascending:!1});if(t)throw t;s(e||[])}catch(e){}finally{i(!1)}}return _.useEffect(()=>{m()},[]),l?t.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading jobs..."}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Careers Management"}),t.jsxs("button",{onClick:()=>{d(null),o(!0)},className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[t.jsx(C,{className:"h-5 w-5"}),"New Job Posting"]})]}),t.jsx("div",{className:"space-y-4",children:e.map(e=>t.jsx("div",{className:"bg-gray-800/50 border border-gray-700/30 border border-gray-700/50 rounded-xl p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:e.title}),t.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full "+("active"===e.status?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:e.status})]}),t.jsx("p",{className:"text-gray-400 mb-3",children:e.description}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-500",children:[t.jsx("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded",children:e.department}),t.jsx("span",{children:e.location}),t.jsx("span",{children:"•"}),t.jsx("span",{children:e.employment_type}),e.salary_range&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"•"}),t.jsx("span",{children:e.salary_range})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.jsx("button",{onClick:()=>async function(e){const t="active"===e.status?"closed":"active";try{const{error:s}=await r.from("career_postings").update({status:t}).eq("id",e.id);if(s)throw s;await m()}catch(s){alert("Failed to update status")}}(e),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"active"===e.status?"Close position":"Activate position",children:"active"===e.status?t.jsx(P,{className:"h-5 w-5 text-gray-400"}):t.jsx(a,{className:"h-5 w-5 text-gray-400"})}),t.jsx("button",{onClick:()=>{d(e),o(!0)},className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg transition-colors",children:t.jsx(ee,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),t.jsx("button",{onClick:()=>async function(e){if(confirm("Are you sure you want to delete this job posting?"))try{const{error:t}=await r.from("career_postings").delete().eq("id",e);if(t)throw t;await m()}catch(t){alert("Failed to delete job posting")}}(e.id),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg transition-colors",children:t.jsx(D,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})]})},e.id))}),0===e.length&&t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-gray-400",children:"No job postings yet. Create your first one!"})}),n&&t.jsx(de,{job:c,onClose:()=>{o(!1),d(null)},onSave:m})]})}const xe='<div style="text-align:center;margin-bottom:32px;padding-bottom:24px;border-bottom:2px solid #E2E8F0;"><img src="https://biomathcore.com/logo-header.png" alt="BioMath Core" style="height:64px;width:64px;margin-bottom:12px;"/><div style="font-size:28px;font-weight:700;"><span style="color:#2563EB;">BioMath</span> <span style="color:#0B0F19;">Core</span></div></div>',ge=[{name:"Welcome New User",slug:"welcome_new_user",category:"welcome",subject_en:"Welcome to BioMath Core",subject_ru:"Добро пожаловать в BioMath Core",preview_text:"Your journey to better health starts here",body_en:`<!DOCTYPE html><html><head><meta charset="UTF-8"></head><body style="margin:0;padding:0;font-family:Inter,system-ui,sans-serif;background:#FFFFFF;"><div style="max-width:600px;margin:0 auto;padding:40px 20px;">${xe}<h1 style="color:#2563EB;font-size:28px;margin:0 0 24px;">Welcome to BioMath Core</h1><p style="color:#0B0F19;font-size:16px;line-height:1.6;">Hi {{userName}},</p><p style="color:#0B0F19;font-size:16px;line-height:1.6;">We're excited to have you join BioMath Core! Your account is now active and ready to use.</p><a href="https://biomathcore.com/dashboard" style="display:inline-block;padding:12px 32px;background:#2563EB;color:#FFFFFF;text-decoration:none;border-radius:6px;font-weight:600;margin:24px 0;">Open Dashboard</a><p style="color:#64748B;font-size:14px;margin-top:32px;padding-top:24px;border-top:1px solid #E2E8F0;">© BioMath Core • <a href="https://biomathcore.com" style="color:#2563EB;text-decoration:none;">biomathcore.com</a> • <a href="mailto:support@biomathcore.com" style="color:#2563EB;text-decoration:none;">support@biomathcore.com</a></p></div></body></html>`,body_ru:'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;"><div style="max-width:600px;margin:0 auto;padding:40px;"><h1 style="color:#2563EB;">Добро пожаловать в BioMath Core</h1><p>Привет {{userName}}!</p><a href="https://biomathcore.com/dashboard" style="display:inline-block;padding:12px 32px;background:#2563EB;color:#FFF;text-decoration:none;border-radius:6px;">Открыть панель</a></div></body></html>',variable_schema:[{key:"userName",type:"string",required:!0}],description:"Welcome email sent to new users upon registration"},{name:"Email Verification",slug:"email_verification",category:"welcome",subject_en:"Verify your email for BioMath Core",subject_ru:"Подтвердите email",preview_text:"Click to verify your email address",body_en:`<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;background:#FFF;"><div style="max-width:600px;margin:0 auto;padding:40px 20px;">${xe}<h1 style="color:#2563EB;font-size:28px;">Verify Your Email</h1><p style="font-size:16px;color:#0B0F19;">Hi {{userName}},</p><p style="font-size:16px;color:#0B0F19;">Please verify your email address:</p><a href="{{verifyUrl}}" style="display:inline-block;padding:12px 32px;background:#2563EB;color:#FFF;text-decoration:none;border-radius:6px;margin:24px 0;">Verify Email</a><p style="color:#64748B;font-size:14px;">Or use code: <strong>{{code}}</strong></p><p style="color:#64748B;font-size:14px;margin-top:32px;border-top:1px solid #E2E8F0;padding-top:24px;">© BioMath Core</p></div></body></html>`,variable_schema:[{key:"userName",type:"string",required:!0},{key:"verifyUrl",type:"string",required:!0},{key:"code",type:"string",required:!0}],description:"Email verification link"},{name:"Magic Link Sign In",slug:"magic_link_signin",category:"welcome",subject_en:"Sign in with your secure link",preview_text:"Your secure sign-in link",body_en:`<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;"><div style="max-width:600px;margin:0 auto;padding:40px;">${xe}<h1 style="color:#2563EB;">Sign In to BioMath Core</h1><p>Hi {{userName}},</p><a href="{{magicUrl}}" style="display:inline-block;padding:12px 32px;background:#2563EB;color:#FFF;text-decoration:none;border-radius:6px;margin:24px 0;">Sign In</a><p style="color:#64748B;">Expires in {{expiresInMin}} minutes.</p><p style="color:#64748B;margin-top:32px;">© BioMath Core</p></div></body></html>`,variable_schema:[{key:"userName",type:"string",required:!0},{key:"magicUrl",type:"string",required:!0},{key:"expiresInMin",type:"number",required:!0}],description:"Magic link for passwordless sign-in"},{name:"Password Reset Requested",slug:"password_reset_requested",category:"password_reset",subject_en:"Reset your password",preview_text:"Reset your BioMath Core password",body_en:`<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;"><div style="max-width:600px;margin:0 auto;padding:40px;">${xe}<h1 style="color:#2563EB;">Reset Your Password</h1><p>Hi {{userName}},</p><p>Click below to create a new password:</p><a href="{{resetUrl}}" style="display:inline-block;padding:12px 32px;background:#2563EB;color:#FFF;text-decoration:none;border-radius:6px;margin:24px 0;">Reset Password</a><p style="color:#64748B;">If you didn't request this, ignore this email.</p><p style="color:#64748B;margin-top:32px;">© BioMath Core</p></div></body></html>`,variable_schema:[{key:"userName",type:"string",required:!0},{key:"resetUrl",type:"string",required:!0}],description:"Password reset request"},{name:"Password Reset Confirmed",slug:"password_reset_confirmed",category:"notification",subject_en:"Your password was updated",preview_text:"Password successfully changed",body_en:`<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;"><div style="max-width:600px;margin:0 auto;padding:40px;">${xe}<h1 style="color:#10B981;">Password Updated</h1><p>Hi {{userName}}, your password was updated at {{time}}.</p><p style="color:#64748B;margin-top:32px;">© BioMath Core</p></div></body></html>`,variable_schema:[{key:"userName",type:"string",required:!0},{key:"time",type:"string",required:!0}],description:"Password reset confirmation"},{name:"Profile Completed",slug:"profile_completed",category:"notification",subject_en:"Your profile is complete",preview_text:"Profile setup finished",body_en:`<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;"><div style="max-width:600px;margin:0 auto;padding:40px;">${xe}<h1 style="color:#10B981;">Profile Complete!</h1><p>Hi {{userName}}, you're all set!</p><p style="color:#64748B;margin-top:32px;">© BioMath Core</p></div></body></html>`,variable_schema:[{key:"userName",type:"string",required:!0}],description:"Profile completion notification"},{name:"Trial Started",slug:"trial_started",category:"billing_invoice",subject_en:"Your trial has started",preview_text:"Start exploring BioMath Core",body_en:`<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;"><div style="max-width:600px;margin:0 auto;padding:40px;">${xe}<h1 style="color:#2563EB;">Trial Started</h1><p>Hi {{userName}}, your {{planName}} trial is active until {{trialEndsAt}}.</p><a href="https://biomathcore.com/dashboard" style="display:inline-block;padding:12px 32px;background:#2563EB;color:#FFF;text-decoration:none;border-radius:6px;margin:24px 0;">Explore Features</a><p style="color:#64748B;margin-top:32px;">© BioMath Core</p></div></body></html>`,variable_schema:[{key:"userName",type:"string",required:!0},{key:"planName",type:"string",required:!0},{key:"trialEndsAt",type:"string",required:!0}],description:"Trial period start notification"},{name:"Trial Ending Reminder",slug:"trial_ending_reminder",category:"billing_invoice",subject_en:"Your trial ends soon",preview_text:"Trial ending notification",body_en:`<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;"><div style="max-width:600px;margin:0 auto;padding:40px;">${xe}<h1 style="color:#F59E0B;">Trial Ending Soon</h1><p>Hi {{userName}}, your trial ends on {{trialEndsAt}}.</p><a href="https://biomathcore.com/pricing" style="display:inline-block;padding:12px 32px;background:#2563EB;color:#FFF;text-decoration:none;border-radius:6px;">View Plans</a><p style="color:#64748B;margin-top:32px;">© BioMath Core</p></div></body></html>`,variable_schema:[{key:"userName",type:"string",required:!0},{key:"trialEndsAt",type:"string",required:!0}],description:"Trial ending reminder"},{name:"Trial Ended",slug:"trial_ended",category:"billing_invoice",subject_en:"Your trial has ended",preview_text:"Trial period complete",body_en:`<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;"><div style="max-width:600px;margin:0 auto;padding:40px;">${xe}<h1>Trial Ended</h1><p>Hi {{userName}}, subscribe to continue using BioMath Core.</p><a href="{{plansUrl}}" style="display:inline-block;padding:12px 32px;background:#2563EB;color:#FFF;text-decoration:none;border-radius:6px;">Choose a Plan</a><p style="color:#64748B;margin-top:32px;">© BioMath Core</p></div></body></html>`,variable_schema:[{key:"userName",type:"string",required:!0},{key:"plansUrl",type:"string",required:!0}],description:"Trial ended notification"},{name:"Subscription Activated",slug:"subscription_activated",category:"payment_success",subject_en:"Subscription activated",preview_text:"Your subscription is now active",body_en:`<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;"><div style="max-width:600px;margin:0 auto;padding:40px;">${xe}<h1 style="color:#10B981;">Subscription Activated</h1><p>Hi {{userName}}, your {{planName}} subscription is active!</p><p>Amount: {{amount}} {{currency}}<br>Next billing: {{nextBillingAt}}</p><a href="https://biomathcore.com/dashboard" style="display:inline-block;padding:12px 32px;background:#2563EB;color:#FFF;text-decoration:none;border-radius:6px;margin:24px 0;">Go to Dashboard</a><p style="color:#64748B;margin-top:32px;">© BioMath Core</p></div></body></html>`,variable_schema:[{key:"userName",type:"string",required:!0},{key:"planName",type:"string",required:!0},{key:"amount",type:"number",required:!0},{key:"currency",type:"string",required:!0},{key:"nextBillingAt",type:"string",required:!0}],description:"Subscription activation confirmation"},{name:"Payment Failed",slug:"payment_failed_dunning_1",category:"payment_failed",subject_en:"We couldn't process your payment",preview_text:"Payment issue detected",body_en:`<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;"><div style="max-width:600px;margin:0 auto;padding:40px;">${xe}<h1 style="color:#F59E0B;">Payment Issue</h1><p>Hi {{userName}}, we couldn't process your payment of {{amount}} {{currency}}.</p><a href="{{updatePaymentUrl}}" style="display:inline-block;padding:12px 32px;background:#2563EB;color:#FFF;text-decoration:none;border-radius:6px;">Update Payment Method</a><p style="color:#64748B;margin-top:32px;">© BioMath Core</p></div></body></html>`,variable_schema:[{key:"userName",type:"string",required:!0},{key:"amount",type:"number",required:!0},{key:"currency",type:"string",required:!0},{key:"updatePaymentUrl",type:"string",required:!0}],description:"Payment failure notification"},{name:"New Device Login",slug:"new_device_login",category:"notification",subject_en:"New sign-in detected",preview_text:"Security alert",body_en:`<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;"><div style="max-width:600px;margin:0 auto;padding:40px;">${xe}<h1 style="color:#F59E0B;">New Sign-In Detected</h1><p>Hi {{userName}}, we detected a new sign-in:</p><p>Device: {{device}}<br>Location: {{city}}<br>IP: {{ip}}<br>Time: {{time}}</p><a href="https://biomathcore.com/security" style="display:inline-block;padding:12px 32px;background:#EF4444;color:#FFF;text-decoration:none;border-radius:6px;">Secure Account</a><p style="color:#64748B;margin-top:32px;">© BioMath Core</p></div></body></html>`,variable_schema:[{key:"userName",type:"string",required:!0},{key:"device",type:"string",required:!0},{key:"ip",type:"string",required:!0},{key:"city",type:"string",required:!0},{key:"time",type:"string",required:!0}],description:"New device login alert"}];const ue=[{value:"welcome",label:"Welcome"},{value:"payment_success",label:"Payment Success"},{value:"payment_failed",label:"Payment Failed"},{value:"password_reset",label:"Password Reset"},{value:"billing_invoice",label:"Billing Invoice"},{value:"subscription_update",label:"Subscription Update"},{value:"general",label:"General"},{value:"promotion",label:"Promotion"},{value:"notification",label:"Notification"}];function pe(){var e;const[s,a]=_.useState("templates"),[c,d]=_.useState([]),[m,x]=_.useState([]),[g,u]=_.useState(!0),[p,h]=_.useState(""),[b,y]=_.useState("all"),[f,j]=_.useState(!1),[v,N]=_.useState(!1),[w,k]=_.useState(null),[S,P]=_.useState({name:"",slug:"",category:"general",subject_en:"",body_en:"",variables:"",status:"draft",description:""}),[F,I]=_.useState({recipientEmail:"",customSubject:"",customBody:""});_.useEffect(()=>{M(),B()},[]);const M=async()=>{try{const{data:e,error:t}=await r.from("email_templates").select("*").order("created_at",{ascending:!1});if(t)throw t;d(e||[])}catch(e){}finally{u(!1)}},B=async()=>{try{const{data:e,error:t}=await r.from("email_sends").select("*").order("created_at",{ascending:!1}).limit(100);if(t)throw t;x(e||[])}catch(e){}},T=c.filter(e=>{const t=e.name.toLowerCase().includes(p.toLowerCase())||e.slug.toLowerCase().includes(p.toLowerCase()),s="all"===b||e.category===b;return t&&s});return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[t.jsx(l,{className:"h-8 w-8 text-orange-500"}),"Email Templates"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:async()=>{if(confirm("This will add/update all 38 default email templates. Continue?"))try{u(!0);const e=await async function(e){const t=[];for(const s of ge){const{data:r,error:a}=await e.from("email_templates").upsert({name:s.name,slug:s.slug,category:s.category,subject_en:s.subject_en,subject_ru:s.subject_ru||null,preview_text:s.preview_text||null,body_en:s.body_en,body_ru:s.body_ru||null,variable_schema:s.variable_schema,status:"active",description:s.description},{onConflict:"slug"});t.push({template:s.slug,success:!a,error:a})}return t}(r),t=e.filter(e=>e.success).length;alert(`Successfully seeded ${t}/${e.length} templates!`),M()}catch(e){alert("Failed to seed templates")}finally{u(!1)}},className:"px-4 py-2 bg-gradient-to-r from-green-600 to-green-500 text-white rounded-lg hover:from-green-500 hover:to-green-600 transition-all duration-300 flex items-center gap-2",title:"Seed 38 default templates",children:[t.jsx(E,{className:"h-5 w-5"}),"Seed Templates"]}),t.jsxs("button",{onClick:async()=>{try{const{data:e,error:t}=await r.from("email_templates").select("*");if(t)throw t;const s={version:"1.0",exported_at:(new Date).toISOString(),templates:e},a=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),l=URL.createObjectURL(a),i=document.createElement("a");i.href=l,i.download=`email-templates-${(new Date).toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(l)}catch(e){alert("Failed to export templates")}},className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-lg hover:from-blue-500 hover:to-blue-600 transition-all duration-300 flex items-center gap-2",children:[t.jsx(i,{className:"h-5 w-5"}),"Export"]}),t.jsxs("label",{className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-500 text-white rounded-lg hover:from-purple-500 hover:to-purple-600 transition-all duration-300 flex items-center gap-2 cursor-pointer",children:[t.jsx(q,{className:"h-5 w-5"}),"Import",t.jsx("input",{type:"file",accept:".json",onChange:async e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];if(s){try{const e=await s.text(),t=JSON.parse(e);if(!t.templates||!Array.isArray(t.templates))throw new Error("Invalid template file format");const{error:a}=await r.from("email_templates").upsert(t.templates,{onConflict:"slug"});if(a)throw a;alert(`Successfully imported ${t.templates.length} templates!`),M()}catch(a){alert("Failed to import templates")}e.target.value=""}},className:"hidden"})]}),t.jsxs("button",{onClick:()=>{k(null),P({name:"",slug:"",category:"general",subject_en:"",body_en:"",variables:"",status:"draft",description:""}),j(!0)},className:"px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-lg hover:from-orange-500 hover:to-orange-600 transition-all duration-300 shadow-lg shadow-orange-600/20 flex items-center gap-2",children:[t.jsx(C,{className:"h-5 w-5"}),"Create Template"]})]})]}),t.jsxs("div",{className:"mb-6 flex gap-4 border-b border-gray-700/50",children:[t.jsx("button",{onClick:()=>a("templates"),className:"px-4 py-3 font-medium transition-colors "+("templates"===s?"text-orange-500 border-b-2 border-orange-500":"text-gray-400 hover:text-white"),children:"Templates"}),t.jsx("button",{onClick:()=>a("logs"),className:"px-4 py-3 font-medium transition-colors "+("logs"===s?"text-orange-500 border-b-2 border-orange-500":"text-gray-400 hover:text-white"),children:"Email Logs"})]}),"templates"===s&&t.jsxs("div",{children:[t.jsxs("div",{className:"mb-6 flex gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search templates...",value:p,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(X,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsxs("select",{value:b,onChange:e=>y(e.target.value),className:"pl-10 pr-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[t.jsx("option",{value:"all",children:"All Categories"}),ue.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))]})]})]}),g?t.jsx("div",{className:"text-center text-gray-400 py-12",children:"Loading templates..."}):0===T.length?t.jsx("div",{className:"text-center text-gray-400 py-12",children:"No templates found"}):t.jsx("div",{className:"grid gap-4",children:T.map(e=>{var s;return t.jsx("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl p-6",children:t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:e.name}),t.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("active"===e.status?"bg-green-900/30 border border-green-600/30 text-green-400":"draft"===e.status?"bg-yellow-900/30 border border-yellow-600/30 text-yellow-400":"bg-gray-800/50 border border-gray-700/30 text-gray-400"),children:e.status}),t.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-orange-900/30 border border-orange-600/30 text-orange-400",children:null==(s=ue.find(t=>t.value===e.category))?void 0:s.label})]}),t.jsx("p",{className:"text-sm text-gray-400 mb-2",children:e.slug}),e.description&&t.jsx("p",{className:"text-sm text-gray-500",children:e.description}),t.jsxs("div",{className:"mt-3",children:[t.jsxs("p",{className:"text-sm text-gray-400",children:[t.jsx("span",{className:"font-medium",children:"Subject:"})," ",e.subject_en]}),e.variable_schema&&e.variable_schema.length>0&&t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[t.jsx("span",{className:"font-medium",children:"Variables:"})," ",e.variable_schema.map(e=>e.key).join(", ")]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>(e=>{k(e),I({recipientEmail:"",customSubject:e.subject_en,customBody:e.body_en}),N(!0)})(e),className:"p-2 text-blue-400 hover:bg-blue-900/30 rounded-lg transition-colors",title:"Send Email",children:t.jsx(o,{className:"h-5 w-5"})}),t.jsx("button",{onClick:()=>(e=>{var t;k(e);const s=(null==(t=e.variable_schema)?void 0:t.map(e=>e.key).join(", "))||"";P({name:e.name,slug:e.slug,category:e.category,subject_en:e.subject_en,body_en:e.body_en,variables:s,status:e.status,description:e.description||""}),j(!0)})(e),className:"p-2 text-orange-400 hover:bg-orange-900/30 rounded-lg transition-colors",title:"Edit",children:t.jsx(ee,{className:"h-5 w-5"})}),t.jsx("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this template?"))try{const{error:t}=await r.from("email_templates").delete().eq("id",e);if(t)throw t;M()}catch(t){alert("Failed to delete template")}})(e.id),className:"p-2 text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete",children:t.jsx(D,{className:"h-5 w-5"})})]})]})},e.id)})})]}),"logs"===s&&t.jsx("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-800/50 border-b border-gray-700/50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Recipient"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Subject"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Sent At"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-700/50",children:0===m.length?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-400",children:"No email logs found"})}):m.map(e=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:e.recipient_email}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:e.subject}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("sent"===e.status?"bg-green-900/30 border border-green-600/30 text-green-400":"failed"===e.status?"bg-red-900/30 border border-red-600/30 text-red-400":"bg-yellow-900/30 border border-yellow-600/30 text-yellow-400"),children:e.status})}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:e.sent_at?new Date(e.sent_at).toLocaleString():"-"})]},e.id))})]})})}),f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:w?"Edit Template":"Create Template"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Template Name"}),t.jsx("input",{type:"text",value:S.name,onChange:e=>P({...S,name:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Slug"}),t.jsx("input",{type:"text",value:S.slug,onChange:e=>P({...S,slug:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Category"}),t.jsx("select",{value:S.category,onChange:e=>P({...S,category:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:ue.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Status"}),t.jsxs("select",{value:S.status,onChange:e=>P({...S,status:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"archived",children:"Archived"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description"}),t.jsx("input",{type:"text",value:S.description,onChange:e=>P({...S,description:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Subject"}),t.jsx("input",{type:"text",value:S.subject_en,onChange:e=>P({...S,subject_en:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Body (HTML)"}),t.jsx("textarea",{value:S.body_en,onChange:e=>P({...S,body_en:e.target.value}),rows:12,className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"<!DOCTYPE html><html><body>...</body></html>"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Variables (comma-separated)"}),t.jsx("input",{type:"text",value:S.variables,onChange:e=>P({...S,variables:e.target.value}),placeholder:"user_name, user_email, amount",className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:async()=>{try{const e=S.variables.split(",").map(e=>e.trim()).filter(e=>e).map(e=>({key:e,type:"string",required:!0})),t={name:S.name,slug:S.slug,category:S.category,subject_en:S.subject_en,subject_ru:null,body_en:S.body_en,body_ru:null,variable_schema:e,status:S.status,description:S.description||null};if(w){const{error:e}=await r.from("email_templates").update(t).eq("id",w.id);if(e)throw e}else{const{error:e}=await r.from("email_templates").insert(t);if(e)throw e}j(!1),M()}catch(e){alert("Failed to save template")}},className:"px-6 py-2 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-lg hover:from-orange-500 hover:to-orange-600 transition-all",children:"Save Template"}),t.jsx("button",{onClick:()=>j(!1),className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})}),v&&w&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl max-w-2xl w-full",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Send Email"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Recipient Email"}),t.jsx("input",{type:"email",value:F.recipientEmail,onChange:e=>I({...F,recipientEmail:e.target.value}),placeholder:"user@example.com",className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Subject"}),t.jsx("input",{type:"text",value:F.customSubject,onChange:e=>I({...F,customSubject:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Body"}),t.jsx("textarea",{value:F.customBody,onChange:e=>I({...F,customBody:e.target.value}),rows:10,className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),t.jsx("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-4",children:t.jsxs("p",{className:"text-sm text-blue-400",children:["Available variables: ",(null==(e=w.variable_schema)?void 0:e.map(e=>e.key).join(", "))||"none"]})})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsxs("button",{onClick:async()=>{if(w&&F.recipientEmail)try{const e=A(),t=await e.send({to:F.recipientEmail,subject:F.customSubject,html:F.customBody,text:U(F.customBody)}),{error:s}=await r.from("email_sends").insert({template_id:w.id,recipient_email:F.recipientEmail,subject:F.customSubject,body_html:F.customBody,body_text:U(F.customBody),variables_used:{},send_type:"test",status:t.success?"sent":"failed",provider:e.name,provider_message_id:t.messageId,sent_at:t.success?(new Date).toISOString():null,error_message:t.error||null});t.success?(alert(`Email sent successfully via ${e.name}!`),N(!1),B()):alert(`Failed to send email: ${t.error}`)}catch(e){alert("Failed to send email")}else alert("Please provide recipient email")},className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-lg hover:from-blue-500 hover:to-blue-600 transition-all flex items-center gap-2",children:[t.jsx(o,{className:"h-5 w-5"}),"Send Email"]}),t.jsx("button",{onClick:()=>N(!1),className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})})]})}const he={"Content Management":[{key:"content.view",label:"View Content",description:"View all content (blog, news, jobs)"},{key:"content.create",label:"Create Content",description:"Create new content items"},{key:"content.edit",label:"Edit Content",description:"Edit existing content"},{key:"content.delete",label:"Delete Content",description:"Delete content items"},{key:"content.publish",label:"Publish Content",description:"Publish or unpublish content"}],"User Management":[{key:"users.view",label:"View Users",description:"View user list and profiles"},{key:"users.create",label:"Create Users",description:"Create new user accounts"},{key:"users.edit",label:"Edit Users",description:"Edit user profiles and settings"},{key:"users.delete",label:"Delete Users",description:"Delete user accounts"},{key:"users.manage_roles",label:"Manage User Roles",description:"Assign/revoke user roles"}],"System Administration":[{key:"system.settings",label:"System Settings",description:"Configure system settings"},{key:"system.analytics",label:"View Analytics",description:"Access analytics dashboard"},{key:"system.roles",label:"Manage Roles",description:"Create and manage roles"},{key:"system.permissions",label:"Manage Permissions",description:"Manage permission assignments"},{key:"system.logs",label:"View Logs",description:"View system logs and audit trails"}],"Email & Communications":[{key:"emails.templates",label:"Email Templates",description:"Manage email templates"},{key:"emails.send",label:"Send Emails",description:"Send emails to users"},{key:"emails.campaigns",label:"Email Campaigns",description:"Create and manage email campaigns"}],"Marketing & Documents":[{key:"marketing.documents",label:"Marketing Documents",description:"Manage marketing materials"},{key:"marketing.upload",label:"Upload Documents",description:"Upload new marketing materials"}]};function be(){const[e,a]=_.useState("roles"),[l,i]=_.useState([]),[o,x]=_.useState([]),[g,u]=_.useState([]),[p,h]=_.useState(!0),[b,y]=_.useState(!1),[f,j]=_.useState(!1),[v,N]=_.useState(null),[w,k]=_.useState(""),[S,P]=_.useState(""),[A,U]=_.useState({name:"",description:"",permissions:[]});_.useEffect(()=>{E()},[]);const E=async()=>{await Promise.all([q(),F(),I()]),h(!1)},q=async()=>{try{const{data:e,error:t}=await r.from("roles").select("*").order("name");if(t)throw t;i(e||[])}catch(e){}},F=async()=>{try{const{data:e,error:t}=await r.from("user_roles").select("*, profiles(id), roles(*)").order("assigned_at",{ascending:!1});if(t)throw t;x(e||[])}catch(e){}},I=async()=>{try{const{data:e,error:t}=await r.from("admin_users_view").select("*").order("created_at",{ascending:!1});if(t)throw t;u(e||[])}catch(e){const{data:t}=await r.from("profiles").select("id, email, name, privacy_flags, created_at").order("created_at",{ascending:!1});u(t||[])}},M=e=>o.filter(t=>t.role_id===e).length,B=async(e,t)=>{try{const{data:s}=await r.auth.getUser();if(!s.user)return void alert("You must be logged in to assign roles");const{data:a,error:l}=await r.from("profiles").select("is_admin").eq("id",s.user.id).single();if(l)return void alert("Failed to verify admin status. Please try again.");if(!(null==a?void 0:a.is_admin))return void alert("Permission denied: You must be an admin or super_admin to assign roles.");const{data:i,error:n}=await r.from("user_roles").insert({user_id:e,role_id:t,assigned_by:s.user.id}).select();n?"23505"===n.code?alert("User already has this role"):"42501"===n.code?alert("Permission denied. You must be an admin to assign roles."):n.message&&n.message.includes("infinite recursion")?alert("System error: Infinite recursion detected. Please contact administrator."):alert(`Failed to assign role: ${n.message}`):(await F(),j(!1),alert("Role assigned successfully!"))}catch(s){alert(`Failed to assign role: ${s.message||"Unknown error"}`)}},R=()=>Object.values(he).flat(),L=g.filter(e=>{var t,s;return e.id.toLowerCase().includes(S.toLowerCase())||(null==(t=e.email)?void 0:t.toLowerCase().includes(S.toLowerCase()))||(null==(s=e.name)?void 0:s.toLowerCase().includes(S.toLowerCase()))});return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[t.jsx(c,{className:"h-8 w-8 text-orange-500"}),"Access Control"]}),t.jsxs("div",{className:"flex gap-2",children:["roles"===e&&t.jsxs("button",{onClick:()=>{N(null),U({name:"",description:"",permissions:[]}),y(!0)},className:"px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-lg hover:from-orange-500 hover:to-orange-600 transition-all duration-300 shadow-lg shadow-orange-600/20 flex items-center gap-2",children:[t.jsx(C,{className:"h-5 w-5"}),"Create Role"]}),"users"===e&&t.jsxs("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-lg hover:from-orange-500 hover:to-orange-600 transition-all duration-300 shadow-lg shadow-orange-600/20 flex items-center gap-2",children:[t.jsx(ae,{className:"h-5 w-5"}),"Assign Role"]})]})]}),t.jsxs("div",{className:"mb-6 flex gap-4 border-b border-gray-700/50 overflow-x-auto",children:[t.jsxs("button",{onClick:()=>a("roles"),className:"px-6 py-3 font-medium transition-all whitespace-nowrap flex items-center gap-2 "+("roles"===e?"text-orange-500 border-b-2 border-orange-500":"text-gray-400 hover:text-white"),children:[t.jsx(T,{className:"h-4 w-4"}),"Roles & Permissions",t.jsx("span",{className:"px-2 py-0.5 bg-gray-700 rounded-full text-xs",children:l.length})]}),t.jsxs("button",{onClick:()=>a("users"),className:"px-6 py-3 font-medium transition-all whitespace-nowrap flex items-center gap-2 "+("users"===e?"text-orange-500 border-b-2 border-orange-500":"text-gray-400 hover:text-white"),children:[t.jsx(d,{className:"h-4 w-4"}),"User Assignments",t.jsx("span",{className:"px-2 py-0.5 bg-gray-700 rounded-full text-xs",children:o.length})]}),t.jsxs("button",{onClick:()=>a("permissions"),className:"px-6 py-3 font-medium transition-all whitespace-nowrap flex items-center gap-2 "+("permissions"===e?"text-orange-500 border-b-2 border-orange-500":"text-gray-400 hover:text-white"),children:[t.jsx(m,{className:"h-4 w-4"}),"Permission Matrix"]})]}),p?t.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading..."}):"roles"===e?t.jsx("div",{className:"grid gap-4",children:l.map(e=>t.jsx("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl p-6 hover:border-orange-500/30 transition-all",children:t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-orange-900/30 border border-orange-600/30 rounded-lg",children:t.jsx(c,{className:"h-5 w-5 text-orange-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-white",children:e.name}),e.is_system&&t.jsx("span",{className:"px-2 py-1 bg-blue-900/30 border border-blue-600/30 text-blue-400 text-xs font-medium rounded-full",children:"System Role"}),t.jsxs("span",{className:"px-2 py-1 bg-orange-900/30 border border-orange-600/30 text-orange-400 text-xs font-medium rounded-full flex items-center gap-1",children:[t.jsx(d,{className:"h-3 w-3"}),M(e.id)," ",1===M(e.id)?"user":"users"]})]}),t.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.permissions.includes("*")?t.jsx("span",{className:"px-3 py-1 bg-green-900/30 border border-green-600/30 text-green-400 text-xs rounded-full font-medium",children:"★ All Permissions"}):e.permissions.map(e=>{const s=R().find(t=>t.key===e);return t.jsx("span",{className:"px-3 py-1 bg-gray-700/50 border border-gray-600/30 text-gray-300 text-xs rounded-full",title:null==s?void 0:s.description,children:(null==s?void 0:s.label)||e},e)})})]}),!e.is_system&&t.jsxs("div",{className:"flex gap-2 ml-4",children:[t.jsx("button",{onClick:()=>(e=>{e.is_system?alert("System roles cannot be edited"):(N(e),U({name:e.name,description:e.description,permissions:e.permissions}),y(!0))})(e),className:"p-2 text-blue-400 hover:bg-blue-900/30 rounded-lg transition-colors",title:"Edit Role",children:t.jsx(ee,{className:"h-5 w-5"})}),t.jsx("button",{onClick:()=>(async e=>{if(e.is_system)alert("System roles cannot be deleted");else if(confirm(`Delete role "${e.name}"? Users with this role will lose their permissions.`))try{const{error:t}=await r.from("roles").delete().eq("id",e.id);if(t)throw t;q()}catch(t){alert("Failed to delete role")}})(e),className:"p-2 text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete Role",children:t.jsx(D,{className:"h-5 w-5"})})]})]})},e.id))}):"users"===e?t.jsxs("div",{children:[t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search users by email, name, or ID...",value:S,onChange:e=>P(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})}),0===L.length?t.jsxs("div",{className:"text-center py-12 text-gray-400",children:[t.jsx(d,{className:"h-16 w-16 mx-auto mb-4 opacity-30"}),t.jsx("p",{className:"text-xl mb-2",children:"No users found"}),t.jsx("p",{className:"text-sm",children:S?"Try adjusting your search criteria":"No users are registered yet"})]}):t.jsx("div",{className:"space-y-4",children:L.map(e=>{var s;const a=(i=e.id,o.filter(e=>e.user_id===i));var i;return t.jsx("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl p-6",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"p-2 bg-blue-900/30 border border-blue-600/30 rounded-lg",children:t.jsx(d,{className:"h-5 w-5 text-blue-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-base font-semibold text-white",children:e.email||e.name||"Unknown User"}),t.jsx("p",{className:"text-xs text-gray-500 font-mono",children:e.id})]}),(null==(s=e.privacy_flags)?void 0:s.is_admin)&&t.jsx("span",{className:"px-2 py-1 bg-orange-900/30 border border-orange-600/30 text-orange-400 text-xs font-medium rounded-full",children:"Admin"})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-3",children:[t.jsxs("span",{children:["Joined: ",new Date(e.created_at).toLocaleDateString()]}),e.last_sign_in_at&&t.jsxs("span",{children:["• Last login: ",new Date(e.last_sign_in_at).toLocaleDateString()]})]}),t.jsxs("div",{className:"space-y-3",children:[a.length>0&&t.jsx("div",{className:"space-y-2",children:a.map(e=>{var s;return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 border border-gray-700/30 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(c,{className:"h-4 w-4 text-orange-400"}),t.jsx("span",{className:"text-sm font-medium text-white",children:null==(s=e.roles)?void 0:s.name}),t.jsxs("span",{className:"text-xs text-gray-500",children:["• Assigned ",new Date(e.assigned_at).toLocaleDateString()]})]}),t.jsx("button",{onClick:()=>(async e=>{if(confirm("Revoke this role assignment?"))try{const{error:t}=await r.from("user_roles").delete().eq("id",e);if(t)throw t;F()}catch(t){alert("Failed to revoke role")}})(e.id),className:"p-1 text-red-400 hover:bg-red-900/30 rounded transition-colors",title:"Revoke Role",children:t.jsx(re,{className:"h-4 w-4"})})]},e.id)})}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("select",{onChange:t=>{t.target.value&&(B(e.id,t.target.value),t.target.value="")},className:"flex-1 px-3 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[t.jsx("option",{value:"",children:"+ Assign role..."}),l.filter(e=>!a.some(t=>t.role_id===e.id)).map(e=>t.jsxs("option",{value:e.id,children:[e.name," ",e.is_system?"(System)":""]},e.id))]})})]})]})})},e.id)})})]}):t.jsx("div",{className:"space-y-6",children:Object.entries(he).map(([e,s])=>t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(m,{className:"h-5 w-5 text-orange-400"}),e]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:s.map(e=>t.jsx("div",{className:"p-4 bg-gray-800/50 border border-gray-700/30 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(T,{className:"h-4 w-4 text-gray-400 mt-1 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-white mb-1",children:e.label}),t.jsx("p",{className:"text-xs text-gray-400",children:e.description}),t.jsx("p",{className:"text-xs text-gray-500 mt-1 font-mono",children:e.key})]})]})},e.key))})]},e))}),b&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsx("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto my-8",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6 sticky top-0 bg-gray-900 pb-4",children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:v?"Edit Role":"Create Role"}),t.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:t.jsx(s,{className:"h-5 w-5 text-gray-400"})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Role Name"}),t.jsx("input",{type:"text",value:A.name,onChange:e=>U({...A,name:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"e.g., Content Manager"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description"}),t.jsx("textarea",{value:A.description,onChange:e=>U({...A,description:e.target.value}),rows:2,className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Describe this role's purpose"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Permissions"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[A.permissions.length," of ",R().length," selected"]})]}),t.jsx("div",{className:"space-y-4",children:Object.entries(he).map(([e,s])=>{const r=s.map(e=>e.key),a=r.every(e=>A.permissions.includes(e)),l=r.some(e=>A.permissions.includes(e));return t.jsxs("div",{className:"border border-gray-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"font-medium text-white flex items-center gap-2",children:[t.jsx(m,{className:"h-4 w-4 text-orange-400"}),e]}),t.jsx("button",{onClick:()=>(e=>{const t=e.map(e=>e.key);if(t.every(e=>A.permissions.includes(e)))U({...A,permissions:A.permissions.filter(e=>!t.includes(e))});else{const e=[...new Set([...A.permissions,...t])];U({...A,permissions:e})}})(s),className:"text-xs px-3 py-1 rounded-full transition-colors "+(a?"bg-orange-900/30 border border-orange-600/30 text-orange-400":l?"bg-blue-900/30 border border-blue-600/30 text-blue-400":"bg-gray-700/30 border border-gray-600/30 text-gray-400"),children:a?"Deselect All":"Select All"})]}),t.jsx("div",{className:"space-y-2",children:s.map(e=>t.jsxs("label",{className:"flex items-start gap-3 p-3 bg-gray-800/30 border border-gray-700/30 rounded-lg cursor-pointer hover:bg-gray-800/50 transition-colors",children:[t.jsx("input",{type:"checkbox",checked:A.permissions.includes(e.key),onChange:()=>{return t=e.key,void(A.permissions.includes(t)?U({...A,permissions:A.permissions.filter(e=>e!==t)}):U({...A,permissions:[...A.permissions,t]}));var t},className:"mt-1 h-4 w-4 rounded border-gray-600 text-orange-500 focus:ring-orange-500 focus:ring-offset-0"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-white",children:e.label}),t.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:e.description}),t.jsx("p",{className:"text-xs text-gray-500 font-mono mt-1",children:e.key})]})]},e.key))})]},e)})})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6 sticky bottom-0 bg-gray-900 pt-4",children:[t.jsx("button",{onClick:async()=>{if(A.name)try{const e={name:A.name,description:A.description,permissions:A.permissions};if(v){const{error:t}=await r.from("roles").update(e).eq("id",v.id);if(t)throw t}else{const{error:t}=await r.from("roles").insert(e);if(t)throw t}y(!1),q()}catch(e){alert("Failed to save role")}else alert("Role name is required")},className:"px-6 py-2 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-lg hover:from-orange-500 hover:to-orange-600 transition-all",children:v?"Update Role":"Create Role"}),t.jsx("button",{onClick:()=>y(!1),className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})}),f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl max-w-2xl w-full",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[t.jsx(ae,{className:"h-6 w-6 text-orange-400"}),"Assign Role to User"]}),t.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:t.jsx(s,{className:"h-5 w-5 text-gray-400"})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Select User"}),t.jsxs("div",{className:"relative",children:[t.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsxs("select",{value:w,onChange:e=>k(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[t.jsx("option",{value:"",children:"Choose a user..."}),g.map(e=>t.jsx("option",{value:e.id,children:e.id},e.id))]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-3",children:["Select Role",w&&t.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Click a role to assign)"})]}),(()=>{const e=l.filter(e=>e.is_system),s=l.filter(e=>!e.is_system);return t.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[e.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"System Roles"}),t.jsx("div",{className:"space-y-2",children:e.map(e=>t.jsx("button",{onClick:()=>{w?B(w,e.id):alert("Please select a user first")},disabled:!w,className:"w-full p-4 rounded-lg border transition-all text-left "+(w?"bg-gray-800/50 border-gray-700/30 hover:bg-gray-800 hover:border-orange-500/50 cursor-pointer":"bg-gray-800/20 border-gray-700/20 opacity-50 cursor-not-allowed"),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg "+("super_admin"===e.name?"bg-purple-900/30 border border-purple-600/30":"admin"===e.name?"bg-orange-900/30 border border-orange-600/30":"bg-blue-900/30 border border-blue-600/30"),children:t.jsx(c,{className:"h-5 w-5 "+("super_admin"===e.name?"text-purple-400":"admin"===e.name?"text-orange-400":"text-blue-400")})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"font-semibold text-white",children:e.name}),"super_admin"===e.name&&t.jsx("span",{className:"px-2 py-0.5 bg-purple-900/30 border border-purple-600/30 text-purple-400 text-xs font-medium rounded-full",children:"★ FULL ACCESS"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:e.description}),t.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[t.jsx(d,{className:"h-3 w-3"}),M(e.id)," ",1===M(e.id)?"user":"users"]})]})]})},e.id))})]}),s.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Custom Roles"}),t.jsx("div",{className:"space-y-2",children:s.map(e=>t.jsx("button",{onClick:()=>{w?B(w,e.id):alert("Please select a user first")},disabled:!w,className:"w-full p-4 rounded-lg border transition-all text-left "+(w?"bg-gray-800/50 border-gray-700/30 hover:bg-gray-800 hover:border-orange-500/50 cursor-pointer":"bg-gray-800/20 border-gray-700/20 opacity-50 cursor-not-allowed"),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 bg-green-900/30 border border-green-600/30 rounded-lg",children:t.jsx(c,{className:"h-5 w-5 text-green-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"flex items-center gap-2 mb-1",children:t.jsx("span",{className:"font-semibold text-white",children:e.name})}),t.jsx("p",{className:"text-sm text-gray-400",children:e.description}),t.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[t.jsx(d,{className:"h-3 w-3"}),M(e.id)," ",1===M(e.id)?"user":"users"]})]})]})},e.id))})]})]})})()]})]}),t.jsx("button",{onClick:()=>j(!1),className:"w-full mt-6 px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})})})]})}function ye(){const[e,s]=_.useState({site_name:"BioMath Core",site_description:"Advanced Health Analytics Platform",admin_email:"admin@biomathcore.com",support_email:"support@biomathcore.com",enable_registrations:!0,require_email_verification:!0,enable_social_login:!1,maintenance_mode:!1,max_upload_size_mb:10,session_timeout_minutes:60,enable_notifications:!0,enable_analytics:!0,default_locale:"en-US",default_timezone:"UTC",theme_mode:"dark"}),[a,i]=_.useState("general"),[n,o]=_.useState(!1),[d,p]=_.useState(null),[h,b]=_.useState({tables:0,size:"0 MB",connections:0});_.useEffect(()=>{y(),f()},[]);const y=async()=>{try{const{data:e,error:t}=await r.from("system_settings").select("*").maybeSingle();if(t&&"PGRST116"!==t.code)throw t;e&&s(t=>({...t,...e.settings}))}catch(e){}},f=async()=>{try{const{data:e}=await r.from("information_schema.tables").select("table_name",{count:"exact",head:!0}).eq("table_schema","public");b(t=>({...t,tables:(null==e?void 0:e.length)||0}))}catch(e){}},j=[{id:"general",label:"General",icon:x},{id:"security",label:"Security",icon:m},{id:"email",label:"Email",icon:l},{id:"features",label:"Features",icon:u},{id:"advanced",label:"Advanced",icon:L}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[t.jsx(x,{className:"h-7 w-7 text-purple-400"}),"System Settings"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:async()=>{confirm("Reset all settings to default values?")&&window.location.reload()},className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors flex items-center gap-2",children:[t.jsx(E,{className:"h-4 w-4"}),"Reset"]}),t.jsx("button",{onClick:async()=>{try{o(!0),p(null);const{data:t}=await r.from("system_settings").select("id").maybeSingle(),s={settings:e,updated_at:(new Date).toISOString()};if(t){const{error:e}=await r.from("system_settings").update(s).eq("id",t.id);if(e)throw e}else{const{error:e}=await r.from("system_settings").insert([s]);if(e)throw e}p({type:"success",text:"Settings saved successfully!"}),setTimeout(()=>p(null),5e3)}catch(t){p({type:"error",text:t.message||"Failed to save settings"})}finally{o(!1)}},disabled:n,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-500 text-white rounded-lg hover:from-purple-500 hover:to-purple-600 transition-all disabled:opacity-50 flex items-center gap-2",children:n?t.jsxs(t.Fragment,{children:[t.jsx(E,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(F,{className:"h-4 w-4"}),"Save Changes"]})})]})]}),d&&t.jsxs("div",{className:"p-4 rounded-lg flex items-center gap-3 "+("success"===d.type?"bg-green-500/10 border border-green-500/20 text-green-400":"bg-red-500/10 border border-red-500/20 text-red-400"),children:["success"===d.type?t.jsx(R,{className:"h-5 w-5"}):t.jsx(g,{className:"h-5 w-5"}),t.jsx("span",{children:d.text})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto border-b border-gray-700/50",children:j.map(e=>{const s=e.icon;return t.jsxs("button",{onClick:()=>i(e.id),className:"px-6 py-3 font-medium transition-all whitespace-nowrap flex items-center gap-2 "+(a===e.id?"text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-white"),children:[t.jsx(s,{className:"h-4 w-4"}),e.label]},e.id)})}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl p-6",children:["general"===a&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Site Name"}),t.jsx("input",{type:"text",value:e.site_name,onChange:t=>s({...e,site_name:t.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Site Description"}),t.jsx("textarea",{value:e.site_description,onChange:t=>s({...e,site_description:t.target.value}),rows:3,className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Default Locale"}),t.jsxs("select",{value:e.default_locale,onChange:t=>s({...e,default_locale:t.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"en-US",children:"English (US)"}),t.jsx("option",{value:"en-GB",children:"English (UK)"}),t.jsx("option",{value:"es-ES",children:"Spanish"}),t.jsx("option",{value:"fr-FR",children:"French"}),t.jsx("option",{value:"de-DE",children:"German"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Default Timezone"}),t.jsxs("select",{value:e.default_timezone,onChange:t=>s({...e,default_timezone:t.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"UTC",children:"UTC"}),t.jsx("option",{value:"America/New_York",children:"Eastern Time"}),t.jsx("option",{value:"America/Chicago",children:"Central Time"}),t.jsx("option",{value:"America/Denver",children:"Mountain Time"}),t.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"}),t.jsx("option",{value:"Europe/London",children:"London"}),t.jsx("option",{value:"Europe/Paris",children:"Paris"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Theme Mode"}),t.jsx("div",{className:"flex gap-4",children:["light","dark","auto"].map(r=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"radio",value:r,checked:e.theme_mode===r,onChange:t=>s({...e,theme_mode:t.target.value}),className:"h-4 w-4 text-purple-500 focus:ring-purple-500"}),t.jsx("span",{className:"text-white capitalize",children:r})]},r))})]})]}),"security"===a&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 border border-gray-700/30 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-white mb-1",children:"Enable User Registrations"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Allow new users to create accounts"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:e.enable_registrations,onChange:t=>s({...e,enable_registrations:t.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-700 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 border border-gray-700/30 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-white mb-1",children:"Require Email Verification"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Users must verify their email to access the platform"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:e.require_email_verification,onChange:t=>s({...e,require_email_verification:t.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-700 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 border border-gray-700/30 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-white mb-1",children:"Enable Social Login"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Allow login with Google, Facebook, etc."})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:e.enable_social_login,onChange:t=>s({...e,enable_social_login:t.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-700 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Session Timeout (minutes)"}),t.jsx("input",{type:"number",value:e.session_timeout_minutes,onChange:t=>s({...e,session_timeout_minutes:parseInt(t.target.value)}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",min:"15",max:"1440"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Users will be logged out after this period of inactivity"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Max Upload Size (MB)"}),t.jsx("input",{type:"number",value:e.max_upload_size_mb,onChange:t=>s({...e,max_upload_size_mb:parseInt(t.target.value)}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",min:"1",max:"100"})]})]}),"email"===a&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Admin Email"}),t.jsx("input",{type:"email",value:e.admin_email,onChange:t=>s({...e,admin_email:t.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Support Email"}),t.jsx("input",{type:"email",value:e.support_email,onChange:t=>s({...e,support_email:t.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 border border-gray-700/30 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-white mb-1",children:"Enable Email Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Send system notifications via email"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:e.enable_notifications,onChange:t=>s({...e,enable_notifications:t.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-700 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),t.jsx("div",{children:t.jsxs("button",{onClick:async()=>{alert("Email test would be sent (feature coming soon)")},className:"px-4 py-2 bg-blue-600/20 border border-blue-600/30 text-blue-400 rounded-lg hover:bg-blue-600/30 transition-colors flex items-center gap-2",children:[t.jsx(l,{className:"h-4 w-4"}),"Test Email Connection"]})})]}),"features"===a&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 border border-gray-700/30 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-white mb-1",children:"Enable Analytics"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Track user behavior and system usage"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:e.enable_analytics,onChange:t=>s({...e,enable_analytics:t.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-700 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-900/20 border border-yellow-600/30 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("h4",{className:"font-medium text-white mb-1 flex items-center gap-2",children:[t.jsx(g,{className:"h-5 w-5 text-yellow-400"}),"Maintenance Mode"]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Disable public access for maintenance"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:e.maintenance_mode,onChange:t=>s({...e,maintenance_mode:t.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-700 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-yellow-600"})]})]})]}),"advanced"===a&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-4",children:[t.jsxs("h4",{className:"font-medium text-white mb-3 flex items-center gap-2",children:[t.jsx(L,{className:"h-5 w-5 text-blue-400"}),"Database Statistics"]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Tables"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:h.tables})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Size"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:h.size})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Connections"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:h.connections})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-white mb-3",children:"System Actions"}),t.jsxs("button",{onClick:async()=>{confirm("Clear all application cache?")&&(localStorage.clear(),sessionStorage.clear(),alert("Cache cleared! Page will reload."),window.location.reload())},className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white hover:bg-gray-800 transition-colors flex items-center justify-between",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(E,{className:"h-4 w-4"}),"Clear Application Cache"]}),t.jsx("span",{className:"text-xs text-gray-500",children:"Requires reload"})]}),t.jsxs("button",{onClick:()=>alert("Database backup feature coming soon"),className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white hover:bg-gray-800 transition-colors flex items-center justify-between",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(L,{className:"h-4 w-4"}),"Backup Database"]}),t.jsx("span",{className:"text-xs text-gray-500",children:"Coming soon"})]}),t.jsxs("button",{onClick:()=>alert("System logs viewer coming soon"),className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white hover:bg-gray-800 transition-colors flex items-center justify-between",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(c,{className:"h-4 w-4"}),"View System Logs"]}),t.jsx("span",{className:"text-xs text-gray-500",children:"Coming soon"})]})]})]})]})]})}function fe(){return t.jsx(ye,{})}function je(){const[e,s]=_.useState({totalUsers:0,activeUsers:0,totalPosts:0,totalNews:0,totalJobs:0,emailsSent:0}),[a,l]=_.useState(!0),[i,n]=_.useState("7d");_.useEffect(()=>{o()},[i]);const o=async()=>{try{const[e,t,a,l,i]=await Promise.all([r.from("profiles").select("id",{count:"exact",head:!0}),r.from("blog_posts").select("id",{count:"exact",head:!0}),r.from("news_items").select("id",{count:"exact",head:!0}),r.from("career_postings").select("id",{count:"exact",head:!0}),r.from("email_sends").select("id",{count:"exact",head:!0})]);s({totalUsers:e.count||0,activeUsers:Math.floor(.6*(e.count||0)),totalPosts:t.count||0,totalNews:a.count||0,totalJobs:l.count||0,emailsSent:i.count||0})}catch(e){}finally{l(!1)}},c=[{label:"Total Users",value:e.totalUsers,icon:d,change:"+12%",positive:!0,color:"blue"},{label:"Active Users",value:e.activeUsers,icon:p,change:"+8%",positive:!0,color:"green"},{label:"Blog Posts",value:e.totalPosts,icon:h,change:"+5",positive:!0,color:"orange"},{label:"News Items",value:e.totalNews,icon:h,change:"+3",positive:!0,color:"purple"},{label:"Job Postings",value:e.totalJobs,icon:h,change:"+2",positive:!0,color:"pink"},{label:"Emails Sent",value:e.emailsSent,icon:b,change:"+24",positive:!0,color:"cyan"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[t.jsx(z,{className:"h-8 w-8 text-orange-500"}),"Analytics Dashboard"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>n("24h"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("24h"===i?"bg-orange-600 text-white":"bg-gray-800/50 text-gray-400 hover:bg-gray-700/50"),children:"24 Hours"}),t.jsx("button",{onClick:()=>n("7d"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("7d"===i?"bg-orange-600 text-white":"bg-gray-800/50 text-gray-400 hover:bg-gray-700/50"),children:"7 Days"}),t.jsx("button",{onClick:()=>n("30d"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("30d"===i?"bg-orange-600 text-white":"bg-gray-800/50 text-gray-400 hover:bg-gray-700/50"),children:"30 Days"})]})]}),a?t.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading analytics..."}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:c.map(e=>{const s=e.icon,r=(e=>{const t={blue:{bg:"bg-blue-900/30",text:"text-blue-400",border:"border-blue-600/30"},green:{bg:"bg-green-900/30",text:"text-green-400",border:"border-green-600/30"},orange:{bg:"bg-orange-900/30",text:"text-orange-400",border:"border-orange-600/30"},purple:{bg:"bg-purple-900/30",text:"text-purple-400",border:"border-purple-600/30"},pink:{bg:"bg-pink-900/30",text:"text-pink-400",border:"border-pink-600/30"},cyan:{bg:"bg-cyan-900/30",text:"text-cyan-400",border:"border-cyan-600/30"}};return t[e]||t.blue})(e.color);return t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:`p-3 ${r.bg} border ${r.border} rounded-lg`,children:t.jsx(s,{className:`h-6 w-6 ${r.text}`})}),t.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+(e.positive?"bg-green-900/30 border border-green-600/30 text-green-400":"bg-red-900/30 border border-red-600/30 text-red-400"),children:e.change})]}),t.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:e.label}),t.jsx("p",{className:"text-3xl font-bold text-white",children:e.value.toLocaleString()})]},e.label)})}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(b,{className:"h-5 w-5 text-orange-500"}),"User Growth"]}),t.jsx("div",{className:"h-48 flex items-end justify-between gap-2",children:[65,75,60,80,70,90,85].map((e,s)=>t.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[t.jsx("div",{className:"w-full bg-gradient-to-t from-orange-600 to-orange-400 rounded-t-lg transition-all hover:from-orange-500 hover:to-orange-300",style:{height:`${e}%`}}),t.jsx("span",{className:"text-xs text-gray-500",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][s]})]},s))})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(p,{className:"h-5 w-5 text-green-500"}),"Content Activity"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[t.jsx("span",{className:"text-gray-400",children:"Blog Posts"}),t.jsx("span",{className:"text-white font-medium",children:e.totalPosts})]}),t.jsx("div",{className:"w-full bg-gray-700/30 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-400 h-2 rounded-full",style:{width:`${Math.min(e.totalPosts/50*100,100)}%`}})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[t.jsx("span",{className:"text-gray-400",children:"News Items"}),t.jsx("span",{className:"text-white font-medium",children:e.totalNews})]}),t.jsx("div",{className:"w-full bg-gray-700/30 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-400 h-2 rounded-full",style:{width:`${Math.min(e.totalNews/50*100,100)}%`}})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[t.jsx("span",{className:"text-gray-400",children:"Job Postings"}),t.jsx("span",{className:"text-white font-medium",children:e.totalJobs})]}),t.jsx("div",{className:"w-full bg-gray-700/30 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-400 h-2 rounded-full",style:{width:`${Math.min(e.totalJobs/20*100,100)}%`}})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[t.jsx("span",{className:"text-gray-400",children:"Emails Sent"}),t.jsx("span",{className:"text-white font-medium",children:e.emailsSent})]}),t.jsx("div",{className:"w-full bg-gray-700/30 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-400 h-2 rounded-full",style:{width:`${Math.min(e.emailsSent/100*100,100)}%`}})})]})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(O,{className:"h-5 w-5 text-blue-500"}),"Recent Activity"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 border border-gray-700/30 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),t.jsx("span",{className:"text-sm text-white",children:"New user registration"})]}),t.jsx("span",{className:"text-xs text-gray-500",children:"2 minutes ago"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 border border-gray-700/30 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),t.jsx("span",{className:"text-sm text-white",children:"Blog post published"})]}),t.jsx("span",{className:"text-xs text-gray-500",children:"15 minutes ago"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 border border-gray-700/30 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),t.jsx("span",{className:"text-sm text-white",children:"Email template updated"})]}),t.jsx("span",{className:"text-xs text-gray-500",children:"1 hour ago"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 border border-gray-700/30 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),t.jsx("span",{className:"text-sm text-white",children:"System settings changed"})]}),t.jsx("span",{className:"text-xs text-gray-500",children:"3 hours ago"})]})]})]})]})]})}function ve(){const[e,s]=_.useState([]),[a,n]=_.useState({totalUsers:0,activeUsers:0,inactiveUsers:0,newThisMonth:0,withRoles:0,withoutRoles:0}),[o,m]=_.useState(!0),[x,g]=_.useState("all"),[u,h]=_.useState(new Set);_.useEffect(()=>{j()},[]);const j=async()=>{try{m(!0);const{data:e,error:t}=await r.from("admin_users_view").select("*").order("created_at",{ascending:!1});if(t)throw t;const a=e||[];s(a);const l=new Date,i=new Date(l.getFullYear(),l.getMonth(),1),o=new Date(l.getTime()-2592e6),c={totalUsers:a.length,activeUsers:a.filter(e=>e.last_sign_in_at&&new Date(e.last_sign_in_at)>o).length,inactiveUsers:a.filter(e=>!e.last_sign_in_at||new Date(e.last_sign_in_at)<=o).length,newThisMonth:a.filter(e=>new Date(e.created_at)>=i).length,withRoles:a.filter(e=>e.roles&&e.roles.length>0).length,withoutRoles:a.filter(e=>!e.roles||0===e.roles.length).length};n(c)}catch(e){}finally{m(!1)}},v=()=>{const t=new Date(Date.now()-2592e6);switch(x){case"active":return e.filter(e=>e.last_sign_in_at&&new Date(e.last_sign_in_at)>t);case"inactive":return e.filter(e=>!e.last_sign_in_at||new Date(e.last_sign_in_at)<=t);case"no_roles":return e.filter(e=>!e.roles||0===e.roles.length);default:return e}},N=async t=>{if(0!==u.size)if("export"===t){const t=e.filter(e=>u.has(e.id)),s=[["Email","Name","Created At","Last Sign In","Roles"].join(","),...t.map(e=>{var t;return[e.email,e.name||"",new Date(e.created_at).toLocaleDateString(),e.last_sign_in_at?new Date(e.last_sign_in_at).toLocaleDateString():"Never",(null==(t=e.roles)?void 0:t.join("; "))||"None"].join(",")})].join("\n"),r=new Blob([s],{type:"text/csv"}),a=URL.createObjectURL(r),l=document.createElement("a");l.href=a,l.download=`users-export-${(new Date).toISOString().split("T")[0]}.csv`,l.click(),URL.revokeObjectURL(a)}else"notify"===t&&alert(`Would send notification to ${u.size} users (feature coming soon)`);else alert("Please select users first")},w=v();return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[t.jsx(d,{className:"h-7 w-7 text-blue-400"}),"Enhanced User Management"]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-900/30 to-blue-800/20 border border-blue-600/30 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(d,{className:"h-5 w-5 text-blue-400"}),t.jsx(b,{className:"h-4 w-4 text-blue-400"})]}),t.jsx("p",{className:"text-2xl font-bold text-white",children:a.totalUsers}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Users"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-900/30 to-green-800/20 border border-green-600/30 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(p,{className:"h-5 w-5 text-green-400"}),t.jsx(R,{className:"h-4 w-4 text-green-400"})]}),t.jsx("p",{className:"text-2xl font-bold text-white",children:a.activeUsers}),t.jsx("p",{className:"text-sm text-gray-400",children:"Active (30d)"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-900/30 to-orange-800/20 border border-orange-600/30 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(le,{className:"h-5 w-5 text-orange-400"}),t.jsx(K,{className:"h-4 w-4 text-orange-400"})]}),t.jsx("p",{className:"text-2xl font-bold text-white",children:a.inactiveUsers}),t.jsx("p",{className:"text-sm text-gray-400",children:"Inactive"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-900/30 to-purple-800/20 border border-purple-600/30 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(O,{className:"h-5 w-5 text-purple-400"}),t.jsx(b,{className:"h-4 w-4 text-purple-400"})]}),t.jsx("p",{className:"text-2xl font-bold text-white",children:a.newThisMonth}),t.jsx("p",{className:"text-sm text-gray-400",children:"New This Month"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-cyan-900/30 to-cyan-800/20 border border-cyan-600/30 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(c,{className:"h-5 w-5 text-cyan-400"}),t.jsx(R,{className:"h-4 w-4 text-cyan-400"})]}),t.jsx("p",{className:"text-2xl font-bold text-white",children:a.withRoles}),t.jsx("p",{className:"text-sm text-gray-400",children:"With Roles"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-red-900/30 to-red-800/20 border border-red-600/30 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(y,{className:"h-5 w-5 text-red-400"}),t.jsx(K,{className:"h-4 w-4 text-red-400"})]}),t.jsx("p",{className:"text-2xl font-bold text-white",children:a.withoutRoles}),t.jsx("p",{className:"text-sm text-gray-400",children:"No Roles"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(X,{className:"h-5 w-5 text-gray-400"}),t.jsxs("select",{value:x,onChange:e=>g(e.target.value),className:"px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsxs("option",{value:"all",children:["All Users (",a.totalUsers,")"]}),t.jsxs("option",{value:"active",children:["Active Users (",a.activeUsers,")"]}),t.jsxs("option",{value:"inactive",children:["Inactive Users (",a.inactiveUsers,")"]}),t.jsxs("option",{value:"no_roles",children:["No Roles (",a.withoutRoles,")"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[u.size>0&&t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-sm text-gray-400",children:[u.size," selected"]}),t.jsxs("button",{onClick:()=>N("export"),className:"px-4 py-2 bg-blue-600/20 border border-blue-600/30 text-blue-400 rounded-lg hover:bg-blue-600/30 transition-colors flex items-center gap-2",children:[t.jsx(i,{className:"h-4 w-4"}),"Export"]}),t.jsxs("button",{onClick:()=>N("notify"),className:"px-4 py-2 bg-purple-600/20 border border-purple-600/30 text-purple-400 rounded-lg hover:bg-purple-600/30 transition-colors flex items-center gap-2",children:[t.jsx(l,{className:"h-4 w-4"}),"Notify"]}),t.jsx("button",{onClick:()=>{h(new Set)},className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Clear"})]}),0===u.size&&w.length>0&&t.jsx("button",{onClick:()=>{const e=v();h(new Set(e.map(e=>e.id)))},className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Select All"})]})]}),o?t.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading..."}):0===w.length?t.jsxs("div",{className:"text-center py-12 text-gray-400",children:[t.jsx(d,{className:"h-16 w-16 mx-auto mb-4 opacity-30"}),t.jsx("p",{className:"text-xl mb-2",children:"No users match this filter"})]}):t.jsx("div",{className:"space-y-3",children:w.map(e=>{const s=e.last_sign_in_at&&new Date(e.last_sign_in_at)>new Date(Date.now()-2592e6),r=e.roles&&e.roles.length>0;return t.jsx("div",{className:"p-4 rounded-lg border transition-all "+(u.has(e.id)?"bg-blue-900/20 border-blue-600/50":"bg-gray-800/30 border-gray-700/30 hover:border-gray-600/50"),children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("input",{type:"checkbox",checked:u.has(e.id),onChange:()=>(e=>{const t=new Set(u);t.has(e)?t.delete(e):t.add(e),h(t)})(e.id),className:"mt-1 h-4 w-4 rounded border-gray-600 text-blue-500 focus:ring-blue-500"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-base font-semibold text-white truncate",children:e.email||"Unknown"}),s?t.jsxs("span",{className:"px-2 py-0.5 bg-green-900/30 border border-green-600/30 text-green-400 text-xs rounded-full flex items-center gap-1",children:[t.jsx(p,{className:"h-3 w-3"}),"Active"]}):t.jsxs("span",{className:"px-2 py-0.5 bg-gray-700/30 border border-gray-600/30 text-gray-400 text-xs rounded-full flex items-center gap-1",children:[t.jsx(f,{className:"h-3 w-3"}),"Inactive"]}),e.email_confirmed_at&&t.jsx(R,{className:"h-4 w-4 text-green-400",title:"Email Confirmed"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"User ID"}),t.jsx("p",{className:"text-gray-300 font-mono text-xs truncate",children:e.id})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Created"}),t.jsx("p",{className:"text-gray-300",children:new Date(e.created_at).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Last Sign In"}),t.jsx("p",{className:"text-gray-300",children:e.last_sign_in_at?new Date(e.last_sign_in_at).toLocaleDateString():"Never"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Roles"}),t.jsx("p",{className:"text-gray-300",children:r?e.roles.join(", "):t.jsx("span",{className:"text-red-400",children:"No roles"})})]})]})]})]})},e.id)})})]})]})}function Ne(){return t.jsx(ve,{})}function we(){const[e,l]=_.useState([]),[n,o]=_.useState(!0),[c,d]=_.useState(!1),[m,x]=_.useState({title:"",description:"",file_url:"",file_name:"",file_type:"pdf",file_size:0,category:"brochure",tags:"",is_public:!1}),[g,u]=_.useState(!1);_.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:e,error:t}=await r.from("marketing_documents").select("*").order("uploaded_at",{ascending:!1});if(t)throw t;l(e||[])}catch(e){}finally{o(!1)}},b=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]},y=e=>{const t={brochure:"bg-blue-900/30 border-blue-600/30 text-blue-400",presentation:"bg-purple-900/30 border-purple-600/30 text-purple-400",whitepaper:"bg-green-900/30 border-green-600/30 text-green-400",case_study:"bg-orange-900/30 border-orange-600/30 text-orange-400",template:"bg-pink-900/30 border-pink-600/30 text-pink-400",other:"bg-gray-900/30 border-gray-600/30 text-gray-400"};return t[e]||t.other};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[t.jsx(Z,{className:"h-8 w-8 text-orange-500"}),"Marketing Documents"]}),t.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-lg hover:from-orange-500 hover:to-orange-600 transition-all duration-300 shadow-lg shadow-orange-600/20 flex items-center gap-2",children:[t.jsx(q,{className:"h-5 w-5"}),"Upload Document"]})]}),n?t.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading documents..."}):t.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(e=>t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl p-6 hover:border-orange-500/30 transition-all",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:"p-3 bg-orange-900/30 border border-orange-600/30 rounded-lg",children:(e.file_type,t.jsx(h,{className:"h-5 w-5"}))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>(async e=>{try{const{error:t}=await r.from("marketing_documents").update({download_count:e.download_count+1}).eq("id",e.id);if(t)throw t;window.open(e.file_url,"_blank"),p()}catch(t){}})(e),className:"p-2 text-blue-400 hover:bg-blue-900/30 rounded-lg transition-colors",title:"Download",children:t.jsx(i,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this document?"))try{const{error:t}=await r.from("marketing_documents").delete().eq("id",e);if(t)throw t;p()}catch(t){alert("Failed to delete document")}})(e.id),className:"p-2 text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete",children:t.jsx(D,{className:"h-4 w-4"})})]})]}),t.jsx("h3",{className:"text-lg font-semibold text-white mb-2 line-clamp-2",children:e.title}),e.description&&t.jsx("p",{className:"text-sm text-gray-400 mb-3 line-clamp-2",children:e.description}),t.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${y(e.category)}`,children:e.category.replace("_"," ")}),e.is_public&&t.jsxs("span",{className:"px-2 py-1 bg-green-900/30 border border-green-600/30 text-green-400 text-xs font-medium rounded-full flex items-center gap-1",children:[t.jsx(a,{className:"h-3 w-3"}),"Public"]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsx("span",{children:b(e.file_size)}),t.jsxs("span",{children:[e.download_count," downloads"]})]}),e.tags.length>0&&t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700/50",children:t.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((e,s)=>t.jsx("span",{className:"px-2 py-1 bg-gray-700/30 text-gray-400 text-xs rounded",children:e},s))})})]},e.id)),0===e.length&&t.jsxs("div",{className:"col-span-full text-center py-12",children:[t.jsx(Z,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"No documents uploaded yet"})]})]}),c&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Upload Document"}),t.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:t.jsx(s,{className:"h-5 w-5 text-gray-400"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Title"}),t.jsx("input",{type:"text",value:m.title,onChange:e=>x({...m,title:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Document title"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description"}),t.jsx("textarea",{value:m.description,onChange:e=>x({...m,description:e.target.value}),rows:3,className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Brief description"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"File URL"}),t.jsx("input",{type:"text",value:m.file_url,onChange:e=>x({...m,file_url:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"https://example.com/document.pdf"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Category"}),t.jsxs("select",{value:m.category,onChange:e=>x({...m,category:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[t.jsx("option",{value:"brochure",children:"Brochure"}),t.jsx("option",{value:"presentation",children:"Presentation"}),t.jsx("option",{value:"whitepaper",children:"Whitepaper"}),t.jsx("option",{value:"case_study",children:"Case Study"}),t.jsx("option",{value:"template",children:"Template"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"File Type"}),t.jsxs("select",{value:m.file_type,onChange:e=>x({...m,file_type:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[t.jsx("option",{value:"pdf",children:"PDF"}),t.jsx("option",{value:"doc",children:"Word Document"}),t.jsx("option",{value:"ppt",children:"Presentation"}),t.jsx("option",{value:"image",children:"Image"}),t.jsx("option",{value:"video",children:"Video"}),t.jsx("option",{value:"other",children:"Other"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Tags (comma-separated)"}),t.jsx("input",{type:"text",value:m.tags,onChange:e=>x({...m,tags:e.target.value}),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"marketing, sales, 2024"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:m.is_public,onChange:e=>x({...m,is_public:e.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-600"})]}),t.jsx("span",{className:"text-sm text-gray-300",children:"Make this document public"})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:async()=>{if(m.title&&m.file_url){u(!0);try{const e=m.tags.split(",").map(e=>e.trim()).filter(e=>e),{error:t}=await r.from("marketing_documents").insert({title:m.title,description:m.description,file_url:m.file_url,file_name:m.file_name||m.title,file_type:m.file_type,file_size:m.file_size,category:m.category,tags:e,is_public:m.is_public});if(t)throw t;d(!1),x({title:"",description:"",file_url:"",file_name:"",file_type:"pdf",file_size:0,category:"brochure",tags:"",is_public:!1}),p()}catch(e){alert("Failed to upload document")}finally{u(!1)}}else alert("Title and file URL are required")},disabled:g,className:"px-6 py-2 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-lg hover:from-orange-500 hover:to-orange-600 transition-all disabled:opacity-50",children:g?"Uploading...":"Upload"}),t.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})})]})}function ke(){const[e,s]=_.useState([]),[l,i]=_.useState(!0),[n,o]=_.useState(!1),[c,d]=_.useState(null),[m,x]=_.useState({});_.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const{data:e,error:t}=await r.from("stripe_config").select("key, value").order("key");if(t)throw t;const a=(e||[]).map(e=>({key:e.key,value:e.value,description:p(e.key),is_secret:e.key.includes("secret")||e.key.includes("key")}));s(a)}catch(e){d({type:"error",text:e.message})}finally{i(!1)}},p=e=>({environment:"Current environment (live/test)",publishable_key_live:"Publishable key for live mode",secret_key_live:"Secret key for live mode",webhook_secret:"Webhook signing secret",price_daily_monthly:"Daily plan monthly price ID",price_daily_yearly:"Daily plan yearly price ID",price_core_monthly:"Core plan monthly price ID",price_core_yearly:"Core plan yearly price ID",price_max_monthly:"Max plan monthly price ID",price_max_yearly:"Max plan yearly price ID"}[e]||e),h=async(t,r)=>{const a=e.map(e=>e.key===t?{...e,value:r}:e);s(a)},b=e=>({publishable_key_live:"Publishable Key (pk_live_...)",secret_key_live:"Secret Key (sk_live_...)",webhook_secret:"Webhook Secret (whsec_...)",publishable_key_test:"Publishable Key (pk_test_...)",secret_key_test:"Secret Key (sk_test_...)",webhook_secret_test:"Webhook Secret (whsec_...)",price_daily_monthly_test:"Monthly Price ID (price_...)",price_daily_yearly_test:"Yearly Price ID (price_...)",price_core_monthly_test:"Monthly Price ID (price_...)",price_core_yearly_test:"Yearly Price ID (price_...)",price_max_monthly_test:"Monthly Price ID (price_...)",price_max_yearly_test:"Yearly Price ID (price_...)"}[e]||e),y=()=>({environment:e.filter(e=>"environment"===e.key),apiKeys:e.filter(e=>"publishable_key_live"===e.key||"secret_key_live"===e.key||"webhook_secret"===e.key),daily:e.filter(e=>e.key.includes("daily")),core:e.filter(e=>e.key.includes("core")),max:e.filter(e=>e.key.includes("max"))});return l?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):t.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl border border-gray-700/50 p-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(I,{className:"w-8 h-8 text-blue-400"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Stripe Configuration"}),t.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Paste your keys from Stripe Dashboard"})]})]}),e.some(e=>"secret_key_live"===e.key&&("NEED_TO_SET"===e.value||""===e.value))&&t.jsxs("div",{className:"mb-6 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg flex items-center gap-3",children:[t.jsx(g,{className:"w-5 h-5 text-yellow-400"}),t.jsxs("div",{className:"text-yellow-400",children:[t.jsx("p",{className:"font-semibold",children:"⚠️ Stripe Secret Key Required"}),t.jsxs("p",{className:"text-sm mt-1",children:["Payment processing won't work until you add your Stripe Secret Key below. Get it from ",t.jsx("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener",className:"underline",children:"Stripe Dashboard → API Keys"})]})]})]}),c&&t.jsxs("div",{className:"mb-6 p-4 rounded-lg flex items-center gap-3 "+("success"===c.type?"bg-green-500/10 border border-green-500/20 text-green-400":"bg-red-500/10 border border-red-500/20 text-red-400"),children:["success"===c.type?t.jsx(R,{className:"w-5 h-5"}):t.jsx(g,{className:"w-5 h-5"}),t.jsx("span",{children:c.text})]}),t.jsxs("div",{className:"space-y-6",children:[y().environment.length>0&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:"⚙️ Environment"}),y().environment.map(e=>t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Current Mode"}),t.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"live (production) or test"}),t.jsx("input",{type:"text",value:e.value,onChange:t=>h(e.key,t.target.value),placeholder:"live",className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]},e.key))]}),y().apiKeys.length>0&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:"🔐 Stripe API Keys"}),y().apiKeys.map(e=>t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300",children:b(e.key)}),t.jsx("p",{className:"text-xs text-gray-500 mb-2",children:e.description}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:e.is_secret&&!m[e.key]?"password":"text",value:e.value,onChange:t=>h(e.key,t.target.value),placeholder:"Paste your key here...",className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-12"}),e.is_secret&&t.jsx("button",{type:"button",onClick:()=>{return t=e.key,void x(e=>({...e,[t]:!e[t]}));var t},className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 hover:bg-gray-700/50 rounded-lg transition-colors",children:m[e.key]?t.jsx(P,{className:"w-4 h-4 text-gray-400"}):t.jsx(a,{className:"w-4 h-4 text-gray-400"})})]})]},e.key))]}),y().daily.length>0&&t.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[t.jsx("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:"📅 Daily Plan - $39/month or $374/year"}),t.jsx("div",{className:"space-y-4",children:y().daily.map(e=>t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300",children:b(e.key)}),t.jsx("p",{className:"text-xs text-gray-500 mb-2",children:e.description}),t.jsx("input",{type:"text",value:e.value,onChange:t=>h(e.key,t.target.value),placeholder:"Paste Price ID here...",className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]},e.key))})]}),y().core.length>0&&t.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[t.jsx("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:"⭐ Core Plan - $19/month or $182/year"}),t.jsx("div",{className:"space-y-4",children:y().core.map(e=>t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300",children:b(e.key)}),t.jsx("p",{className:"text-xs text-gray-500 mb-2",children:e.description}),t.jsx("input",{type:"text",value:e.value,onChange:t=>h(e.key,t.target.value),placeholder:"Paste Price ID here...",className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]},e.key))})]}),y().max.length>0&&t.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[t.jsx("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:"🚀 Max Plan - $79/month or $758/year"}),t.jsx("div",{className:"space-y-4",children:y().max.map(e=>t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300",children:b(e.key)}),t.jsx("p",{className:"text-xs text-gray-500 mb-2",children:e.description}),t.jsx("input",{type:"text",value:e.value,onChange:t=>h(e.key,t.target.value),placeholder:"Paste Price ID here...",className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]},e.key))})]})]}),t.jsx("div",{className:"mt-8 pt-6 border-t border-gray-700/50",children:t.jsx("button",{onClick:async()=>{try{o(!0),d(null);for(const t of e){const{error:e}=await r.from("stripe_config").update({value:t.value,updated_at:(new Date).toISOString()}).eq("key",t.key);if(e)throw e}d({type:"success",text:"All keys saved successfully!"}),setTimeout(()=>d(null),5e3)}catch(t){d({type:"error",text:t.message})}finally{o(!1)}},disabled:n,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),t.jsx("span",{children:"Saving..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(F,{className:"w-5 h-5"}),t.jsx("span",{children:"Save all keys"})]})})})]}),t.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-blue-400 mb-3 flex items-center gap-2",children:[t.jsx(g,{className:"w-5 h-5"}),"Where to get these keys?"]}),t.jsxs("div",{className:"space-y-4 text-sm text-gray-300",children:[t.jsxs("div",{children:[t.jsx("strong",{className:"text-white",children:"1. API Keys (Publishable & Secret):"}),t.jsxs("p",{className:"text-gray-400 mt-1",children:["Open"," ",t.jsx("a",{href:"https://dashboard.stripe.com/test/apikeys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"Stripe Dashboard → Developers → API Keys"})]}),t.jsxs("ul",{className:"list-disc list-inside text-gray-400 mt-2 ml-2 space-y-1",children:[t.jsxs("li",{children:["Publishable key starts with ",t.jsx("code",{className:"text-blue-300",children:"pk_test_"})]}),t.jsxs("li",{children:["Secret key starts with ",t.jsx("code",{className:"text-orange-300",children:"sk_test_"})," (keep this secure!)"]})]})]}),t.jsxs("div",{children:[t.jsx("strong",{className:"text-white",children:"2. Webhook Secret:"}),t.jsxs("p",{className:"text-gray-400 mt-1",children:["Open"," ",t.jsx("a",{href:"https://dashboard.stripe.com/test/webhooks",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"Stripe Dashboard → Developers → Webhooks"})]}),t.jsxs("ul",{className:"list-disc list-inside text-gray-400 mt-2 ml-2 space-y-1",children:[t.jsx("li",{children:"Create a webhook endpoint or select existing one"}),t.jsx("li",{children:'Click "Reveal" to see the signing secret'}),t.jsxs("li",{children:["Webhook secret starts with ",t.jsx("code",{className:"text-purple-300",children:"whsec_"})]})]})]}),t.jsxs("div",{children:[t.jsx("strong",{className:"text-white",children:"3. Price IDs:"}),t.jsxs("p",{className:"text-gray-400 mt-1",children:["Open"," ",t.jsx("a",{href:"https://dashboard.stripe.com/test/products",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"Stripe Dashboard → Products"})]}),t.jsxs("ul",{className:"list-disc list-inside text-gray-400 mt-2 ml-2 space-y-1",children:[t.jsx("li",{children:"Create products for each plan (Daily, Core, Max)"}),t.jsx("li",{children:"Create both monthly and yearly prices for each"}),t.jsxs("li",{children:["Copy Price IDs (start with ",t.jsx("code",{className:"text-green-300",children:"price_"}),")"]})]})]})]})]})]})}function _e(){const[e,s]=_.useState([{name:"Stripe Publishable Key",key:"stripe_publishable",value:"",required:!0,description:"Public key for payments (pk_live_... or pk_test_...)",setupUrl:"https://dashboard.stripe.com/apikeys",icon:"💳",isSecret:!1},{name:"Stripe Secret Key",key:"stripe_secret",value:"",required:!0,description:"Secret key (sk_live_... or sk_test_...)",setupUrl:"https://dashboard.stripe.com/apikeys",icon:"💳",isSecret:!0},{name:"OpenAI API Key",key:"openai_key",value:"",required:!1,description:"For AI assistant and ChatGPT (sk-...)",setupUrl:"https://platform.openai.com/api-keys",icon:"🤖",isSecret:!0},{name:"Google Analytics",key:"google_analytics",value:"",required:!1,description:"Measurement ID (G-XXXXXXXXXX)",setupUrl:"https://analytics.google.com",icon:"📊",isSecret:!1},{name:"Facebook Pixel",key:"facebook_pixel",value:"",required:!1,description:"Pixel ID for conversion tracking",setupUrl:"https://business.facebook.com/events_manager",icon:"👥",isSecret:!1},{name:"Resend API Key",key:"resend_key",value:"",required:!1,description:"For email notifications (re_...)",setupUrl:"https://resend.com/api-keys",icon:"📧",isSecret:!0},{name:"SendGrid API Key",key:"sendgrid_key",value:"",required:!1,description:"Alternative to Resend for email (SG...)",setupUrl:"https://app.sendgrid.com/settings/api_keys",icon:"📧",isSecret:!0},{name:"AWS Access Key",key:"aws_access",value:"",required:!1,description:"For S3, Lambda and other AWS services",setupUrl:"https://console.aws.amazon.com/iam",icon:"☁️",isSecret:!0},{name:"AWS Secret Key",key:"aws_secret",value:"",required:!1,description:"AWS Secret Access Key",setupUrl:"https://console.aws.amazon.com/iam",icon:"☁️",isSecret:!0},{name:"Cloudflare API Token",key:"cloudflare_token",value:"",required:!1,description:"For CDN and security",setupUrl:"https://dash.cloudflare.com/profile/api-tokens",icon:"🛡️",isSecret:!0},{name:"Twilio Account SID",key:"twilio_sid",value:"",required:!1,description:"For SMS notifications",setupUrl:"https://console.twilio.com",icon:"📱",isSecret:!1},{name:"Twilio Auth Token",key:"twilio_token",value:"",required:!1,description:"Auth Token for Twilio",setupUrl:"https://console.twilio.com",icon:"📱",isSecret:!0},{name:"Stripe Webhook Secret",key:"stripe_webhook_secret",value:"",required:!0,description:"Webhook signing secret (whsec_...)",setupUrl:"https://dashboard.stripe.com/webhooks",icon:"💳",isSecret:!0},{name:"Anthropic API Key",key:"anthropic_key",value:"",required:!1,description:"For Claude AI (sk-ant-...)",setupUrl:"https://console.anthropic.com/settings/keys",icon:"🤖",isSecret:!0},{name:"ElevenLabs API Key",key:"elevenlabs_key",value:"",required:!1,description:"For voice synthesis and cloning",setupUrl:"https://elevenlabs.io/api",icon:"🎙️",isSecret:!0},{name:"Replicate API Token",key:"replicate_token",value:"",required:!1,description:"For running ML models",setupUrl:"https://replicate.com/account/api-tokens",icon:"🤖",isSecret:!0},{name:"Hugging Face API Token",key:"huggingface_token",value:"",required:!1,description:"For ML models and datasets",setupUrl:"https://huggingface.co/settings/tokens",icon:"🤖",isSecret:!0},{name:"Stability AI API Key",key:"stability_key",value:"",required:!1,description:"For Stable Diffusion image generation",setupUrl:"https://platform.stability.ai/account/keys",icon:"🎨",isSecret:!0},{name:"Cohere API Key",key:"cohere_key",value:"",required:!1,description:"For NLP and language models",setupUrl:"https://dashboard.cohere.com/api-keys",icon:"🤖",isSecret:!0},{name:"Pinecone API Key",key:"pinecone_key",value:"",required:!1,description:"Vector database for AI embeddings",setupUrl:"https://app.pinecone.io/",icon:"🧠",isSecret:!0},{name:"Pinecone Environment",key:"pinecone_env",value:"",required:!1,description:"Pinecone environment name",setupUrl:"https://app.pinecone.io/",icon:"🧠",isSecret:!1},{name:"AssemblyAI API Key",key:"assemblyai_key",value:"",required:!1,description:"For speech-to-text transcription",setupUrl:"https://www.assemblyai.com/app",icon:"🎤",isSecret:!0},{name:"Deepgram API Key",key:"deepgram_key",value:"",required:!1,description:"For voice AI and transcription",setupUrl:"https://console.deepgram.com/",icon:"🎤",isSecret:!0},{name:"Voyage AI API Key",key:"voyage_key",value:"",required:!1,description:"For embeddings and search",setupUrl:"https://www.voyageai.com/",icon:"🧭",isSecret:!0},{name:"Supabase URL",key:"supabase_url",value:"",required:!0,description:"Your Supabase project URL",setupUrl:"https://supabase.com/dashboard/project/_/settings/api",icon:"🗄️",isSecret:!1},{name:"Supabase Anon Key",key:"supabase_anon_key",value:"",required:!0,description:"Public anon key (safe for client)",setupUrl:"https://supabase.com/dashboard/project/_/settings/api",icon:"🗄️",isSecret:!1},{name:"Supabase Service Role Key",key:"supabase_service_role",value:"",required:!1,description:"Service role key (backend only)",setupUrl:"https://supabase.com/dashboard/project/_/settings/api",icon:"🗄️",isSecret:!0},{name:"Sentry DSN",key:"sentry_dsn",value:"",required:!1,description:"For error tracking and monitoring",setupUrl:"https://sentry.io/settings/",icon:"🐛",isSecret:!1},{name:"Mailchimp API Key",key:"mailchimp_key",value:"",required:!1,description:"For email marketing campaigns",setupUrl:"https://admin.mailchimp.com/account/api/",icon:"📧",isSecret:!0},{name:"Mailchimp Audience ID",key:"mailchimp_audience",value:"",required:!1,description:"Newsletter list/audience ID",setupUrl:"https://admin.mailchimp.com/lists/",icon:"📧",isSecret:!1},{name:"Postmark Server Token",key:"postmark_token",value:"",required:!1,description:"Transactional email service",setupUrl:"https://account.postmarkapp.com/servers",icon:"📧",isSecret:!0},{name:"Google Maps API Key",key:"google_maps_key",value:"",required:!1,description:"For maps and location services",setupUrl:"https://console.cloud.google.com/apis/credentials",icon:"🗺️",isSecret:!1},{name:"Mixpanel Token",key:"mixpanel_token",value:"",required:!1,description:"Product analytics platform",setupUrl:"https://mixpanel.com/settings/project",icon:"📊",isSecret:!1},{name:"Intercom API Key",key:"intercom_key",value:"",required:!1,description:"Customer messaging platform",setupUrl:"https://app.intercom.com/a/apps/_/settings/api",icon:"💬",isSecret:!0},{name:"Segment Write Key",key:"segment_key",value:"",required:!1,description:"Customer data platform",setupUrl:"https://app.segment.com/",icon:"📊",isSecret:!1},{name:"Algolia Application ID",key:"algolia_app_id",value:"",required:!1,description:"For search functionality",setupUrl:"https://www.algolia.com/account/api-keys",icon:"🔍",isSecret:!1},{name:"Algolia Search API Key",key:"algolia_search_key",value:"",required:!1,description:"Search-only API key (public)",setupUrl:"https://www.algolia.com/account/api-keys",icon:"🔍",isSecret:!1},{name:"Algolia Admin API Key",key:"algolia_admin_key",value:"",required:!1,description:"Admin API key (backend only)",setupUrl:"https://www.algolia.com/account/api-keys",icon:"🔍",isSecret:!0},{name:"Redis URL",key:"redis_url",value:"",required:!1,description:"For caching and session storage",setupUrl:"https://redis.io/",icon:"⚡",isSecret:!0},{name:"Vercel Token",key:"vercel_token",value:"",required:!1,description:"For deployments and API access",setupUrl:"https://vercel.com/account/tokens",icon:"▲",isSecret:!0},{name:"GitHub Personal Access Token",key:"github_token",value:"",required:!1,description:"For GitHub API access",setupUrl:"https://github.com/settings/tokens",icon:"🐙",isSecret:!0},{name:"Discord Webhook URL",key:"discord_webhook",value:"",required:!1,description:"For notifications to Discord",setupUrl:"https://discord.com/developers",icon:"💬",isSecret:!0},{name:"Slack Webhook URL",key:"slack_webhook",value:"",required:!1,description:"For notifications to Slack",setupUrl:"https://api.slack.com/messaging/webhooks",icon:"💬",isSecret:!0},{name:"PagerDuty Integration Key",key:"pagerduty_key",value:"",required:!1,description:"For incident management",setupUrl:"https://support.pagerduty.com/docs/services-and-integrations",icon:"🚨",isSecret:!0},{name:"Datadog API Key",key:"datadog_api_key",value:"",required:!1,description:"For monitoring and logging",setupUrl:"https://app.datadoghq.com/organization-settings/api-keys",icon:"📈",isSecret:!0},{name:"LogRocket App ID",key:"logrocket_app_id",value:"",required:!1,description:"Session replay and analytics",setupUrl:"https://app.logrocket.com/settings",icon:"📹",isSecret:!1}]),[l,i]=_.useState(!0),[n,o]=_.useState(!1),[c,d]=_.useState(null),[m,x]=_.useState({});_.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const{data:e,error:t}=await r.from("api_keys_configuration").select("key_name, key_value");if(t)throw t;e&&e.length>0&&s(t=>t.map(t=>{const s=e.find(e=>e.key_name===t.key);return s?{...t,value:s.key_value||""}:t}))}catch(e){}finally{i(!1)}},p={payments:e.filter(e=>e.key.includes("stripe")),database:e.filter(e=>e.key.includes("supabase")||e.key.includes("redis")),ai:e.filter(e=>e.key.includes("openai")||e.key.includes("anthropic")||e.key.includes("elevenlabs")||e.key.includes("replicate")||e.key.includes("huggingface")||e.key.includes("stability")||e.key.includes("cohere")||e.key.includes("pinecone")||e.key.includes("assemblyai")||e.key.includes("deepgram")||e.key.includes("voyage")),analytics:e.filter(e=>e.key.includes("google_analytics")||e.key.includes("facebook")||e.key.includes("mixpanel")||e.key.includes("segment")),email:e.filter(e=>e.key.includes("resend")||e.key.includes("sendgrid")||e.key.includes("mailchimp")||e.key.includes("postmark")),cloud:e.filter(e=>e.key.includes("aws")||e.key.includes("cloudflare")||e.key.includes("vercel")),sms:e.filter(e=>e.key.includes("twilio")),search:e.filter(e=>e.key.includes("algolia")),mapping:e.filter(e=>e.key.includes("maps")),monitoring:e.filter(e=>e.key.includes("sentry")||e.key.includes("datadog")||e.key.includes("logrocket")),messaging:e.filter(e=>e.key.includes("intercom")||e.key.includes("discord")||e.key.includes("slack")),devtools:e.filter(e=>e.key.includes("github")||e.key.includes("pagerduty"))};return t.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl border border-gray-700/50 p-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(T,{className:"w-8 h-8 text-blue-400"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"API Keys Management"}),t.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Manage all API keys and integrations"})]})]}),l?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):t.jsxs(t.Fragment,{children:[c&&t.jsxs("div",{className:"mb-6 p-4 rounded-lg flex items-center gap-3 "+("success"===c.type?"bg-green-500/10 border border-green-500/20 text-green-400":"bg-red-500/10 border border-red-500/20 text-red-400"),children:["success"===c.type?t.jsx(R,{className:"w-5 h-5"}):t.jsx(g,{className:"w-5 h-5"}),t.jsx("span",{children:c.text})]}),t.jsx("div",{className:"space-y-8",children:Object.entries(p).map(([e,r])=>{if(0===r.length)return null;return t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-xl font-bold text-white border-b border-gray-700 pb-2",children:{payments:"💳 Payments",database:"🗄️ Database & Storage",ai:"🤖 Artificial Intelligence",analytics:"📊 Analytics & Tracking",email:"📧 Email Services",cloud:"☁️ Cloud Infrastructure",sms:"📱 SMS Notifications",search:"🔍 Search Services",mapping:"🗺️ Maps & Location",monitoring:"📈 Monitoring & Debugging",messaging:"💬 Customer Messaging",devtools:"🛠️ Developer Tools"}[e]}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:r.map(e=>t.jsxs("div",{className:"bg-gray-800/30 p-4 rounded-lg border border-gray-700/30 hover:border-gray-600/50 transition-all",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-200",children:[t.jsx("span",{className:"text-2xl",children:e.icon}),t.jsx("div",{children:t.jsxs("div",{className:"flex items-center gap-2",children:[e.name,e.required&&t.jsx("span",{className:"text-xs bg-red-500/20 text-red-400 px-2 py-0.5 rounded",children:"required"})]})})]}),e.setupUrl&&t.jsx("a",{href:e.setupUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",title:"Get API key",children:t.jsx(M,{className:"w-4 h-4"})})]}),t.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e.description}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:e.isSecret&&!m[e.key]?"password":"text",value:e.value,onChange:t=>{return r=e.key,a=t.target.value,void s(e=>e.map(e=>e.key===r?{...e,value:a}:e));var r,a},placeholder:`Paste ${e.isSecret?"secret":""} key...`,className:"w-full px-4 py-2.5 bg-gray-900/50 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-12"}),e.isSecret&&t.jsx("button",{type:"button",onClick:()=>{return t=e.key,void x(e=>({...e,[t]:!e[t]}));var t},className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 hover:bg-gray-700/50 rounded-lg transition-colors",children:m[e.key]?t.jsx(P,{className:"w-4 h-4 text-gray-400"}):t.jsx(a,{className:"w-4 h-4 text-gray-400"})})]})]},e.key))})]},e)})}),t.jsx("div",{className:"mt-8 pt-6 border-t border-gray-700/50",children:t.jsx("button",{onClick:async()=>{try{o(!0),d(null);for(const t of e){const{data:e,error:s}=await r.from("api_keys_configuration").select("id, key_value").eq("key_name",t.key).maybeSingle();if(s)throw s;const a={key_name:t.key,key_value:t.value||(null==e?void 0:e.key_value)||null,service_name:t.name,is_secret:t.isSecret,is_required:t.required,description:t.description,setup_url:t.setupUrl,icon:t.icon,updated_at:(new Date).toISOString()};if(e){const{error:t}=await r.from("api_keys_configuration").update(a).eq("id",e.id);if(t)throw t}else{const{error:e}=await r.from("api_keys_configuration").insert([a]);if(e)throw e}}await u(),d({type:"success",text:"All keys saved successfully!"}),setTimeout(()=>d(null),5e3)}catch(t){d({type:"error",text:t.message})}finally{o(!1)}},disabled:n,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),t.jsx("span",{children:"Saving..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(F,{className:"w-5 h-5"}),t.jsx("span",{children:"Save all keys"})]})})})]})]}),t.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-yellow-400 mb-3 flex items-center gap-2",children:[t.jsx(g,{className:"w-5 h-5"}),"Important Security Information"]}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:"🔒 Secret keys should never be accessible in client-side code"}),t.jsx("li",{children:"🌐 Use Test Keys for development, Live Keys for production"}),t.jsx("li",{children:"🔄 Rotate keys regularly (every 3-6 months)"}),t.jsx("li",{children:"👀 Never share secret keys via email or messaging apps"}),t.jsx("li",{children:"💾 Store backup copies of keys in a secure vault"}),t.jsx("li",{children:"📝 Use environment variables (.env) instead of hardcoding"})]})]})]})}function Se(){const[e,s]=_.useState([{id:"home",name:"Home",path:"/",icon:j,enabled:!0,category:"main",description:"Main page"},{id:"about",name:"About",path:"/about",icon:h,enabled:!0,category:"main",description:"About us"},{id:"services",name:"Services",path:"/services",icon:$,enabled:!0,category:"main",description:"Services"},{id:"catalog",name:"Services Catalog",path:"/services-catalog",icon:$,enabled:!0,category:"main",description:"Services catalog"},{id:"pricing",name:"Pricing",path:"/pricing",icon:Y,enabled:!0,category:"main",description:"Pricing"},{id:"devices",name:"Devices",path:"/devices",icon:se,enabled:!0,category:"main",description:"Devices"},{id:"science",name:"Science",path:"/science",icon:W,enabled:!0,category:"main",description:"Scientific research"},{id:"reports",name:"Reports",path:"/reports",icon:z,enabled:!0,category:"main",description:"Reports"},{id:"news",name:"News",path:"/news",icon:H,enabled:!0,category:"main",description:"News"},{id:"blog",name:"Blog",path:"/blog",icon:h,enabled:!0,category:"main",description:"Blog"},{id:"careers",name:"Careers",path:"/careers",icon:V,enabled:!0,category:"main",description:"Careers"},{id:"contact",name:"Contact",path:"/contact",icon:te,enabled:!0,category:"main",description:"Contact"},{id:"faq",name:"FAQ",path:"/faq",icon:v,enabled:!0,category:"main",description:"Frequently Asked Questions"},{id:"learning",name:"Learning Center",path:"/learning-center",icon:N,enabled:!0,category:"main",description:"Learning Center"},{id:"investors",name:"For Investors",path:"/investors",icon:w,enabled:!0,category:"marketing",description:"Information for investors"},{id:"partnership",name:"Partnership",path:"/partnership",icon:d,enabled:!0,category:"marketing",description:"Partnership program"},{id:"ambassador",name:"Ambassador",path:"/ambassador",icon:ae,enabled:!0,category:"marketing",description:"Ambassador program"},{id:"referral",name:"Referral Program",path:"/referral",icon:G,enabled:!0,category:"marketing",description:"Referral program"},{id:"member-zone",name:"Member Zone",path:"/member-zone",icon:d,enabled:!0,category:"member",description:"Member dashboard"},{id:"command-center",name:"Command Center",path:"/command-center",icon:J,enabled:!0,category:"member",description:"Command center"},{id:"admin",name:"Admin Panel",path:"/admin",icon:c,enabled:!0,category:"admin",description:"Admin panel"},{id:"privacy",name:"Privacy Policy",path:"/legal/privacy-policy",icon:c,enabled:!0,category:"legal",description:"Privacy policy"},{id:"terms",name:"Terms of Service",path:"/legal/terms-of-service",icon:h,enabled:!0,category:"legal",description:"Terms of service"},{id:"gdpr",name:"GDPR",path:"/legal/gdpr",icon:c,enabled:!0,category:"legal",description:"GDPR compliance"},{id:"hipaa",name:"HIPAA Notice",path:"/legal/hipaa-notice",icon:c,enabled:!0,category:"legal",description:"HIPAA notice"},{id:"disclaimer",name:"Disclaimer",path:"/legal/disclaimer",icon:g,enabled:!0,category:"legal",description:"Disclaimer"},{id:"security",name:"Security",path:"/legal/security",icon:c,enabled:!0,category:"legal",description:"Security"}]),[r,l]=_.useState(!1),[i,n]=_.useState(null),o=(e,t)=>{s(s=>s.map(s=>s.category===e?{...s,enabled:t}:s))},m={main:e.filter(e=>"main"===e.category),marketing:e.filter(e=>"marketing"===e.category),member:e.filter(e=>"member"===e.category),admin:e.filter(e=>"admin"===e.category),legal:e.filter(e=>"legal"===e.category)},x=Object.entries(m).map(([e,t])=>({category:e,total:t.length,enabled:t.filter(e=>e.enabled).length})),u={main:"🏠 Main Pages",marketing:"🎯 Marketing",member:"👤 Member Pages",admin:"⚙️ Administration",legal:"⚖️ Legal Pages"};return t.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl border border-gray-700/50 p-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(Q,{className:"w-8 h-8 text-blue-400"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Site Map & Page Visibility"}),t.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Manage site page visibility"})]})]}),i&&t.jsxs("div",{className:"mb-6 p-4 rounded-lg flex items-center gap-3 "+("success"===i.type?"bg-green-500/10 border border-green-500/20 text-green-400":"bg-red-500/10 border border-red-500/20 text-red-400"),children:["success"===i.type?t.jsx(R,{className:"w-5 h-5"}):t.jsx(g,{className:"w-5 h-5"}),t.jsx("span",{children:i.text})]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:x.map(({category:e,total:s,enabled:r})=>{var a;return t.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:[r,"/",s]}),t.jsx("div",{className:"text-xs text-gray-400 mt-1",children:null==(a=u[e])?void 0:a.replace(/^[^\s]+ /,"")}),t.jsxs("div",{className:"flex gap-2 mt-3",children:[t.jsx("button",{onClick:()=>o(e,!0),className:"flex-1 px-2 py-1 text-xs bg-green-500/20 text-green-400 rounded hover:bg-green-500/30 transition-colors",children:"Enable All"}),t.jsx("button",{onClick:()=>o(e,!1),className:"flex-1 px-2 py-1 text-xs bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors",children:"Disable All"})]})]},e)})}),t.jsx("div",{className:"space-y-6",children:Object.entries(m).map(([e,r])=>0===r.length?null:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-xl font-bold text-white border-b border-gray-700 pb-2",children:u[e]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:r.map(e=>{const r=e.icon;return t.jsxs("button",{onClick:()=>{return t=e.id,void s(e=>e.map(e=>e.id===t?{...e,enabled:!e.enabled}:e));var t},className:"p-4 rounded-lg border-2 transition-all text-left "+(e.enabled?"bg-green-500/10 border-green-500/30 hover:bg-green-500/20":"bg-gray-800/30 border-gray-700/30 hover:bg-gray-800/50"),children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(r,{className:"w-5 h-5 "+(e.enabled?"text-green-400":"text-gray-500")}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold "+(e.enabled?"text-white":"text-gray-500"),children:e.name}),t.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:e.path})]})]}),t.jsx("div",{className:"p-1 rounded "+(e.enabled?"bg-green-500/20":"bg-gray-700/30"),children:e.enabled?t.jsx(a,{className:"w-4 h-4 text-green-400"}):t.jsx(P,{className:"w-4 h-4 text-gray-500"})})]}),t.jsx("p",{className:"text-xs mt-2 "+(e.enabled?"text-gray-400":"text-gray-600"),children:e.description})]},e.id)})})]},e))}),t.jsx("div",{className:"mt-8 pt-6 border-t border-gray-700/50",children:t.jsx("button",{onClick:async()=>{try{l(!0),n(null),n({type:"success",text:"Page configuration saved successfully! ✓"}),setTimeout(()=>n(null),5e3)}catch(e){n({type:"error",text:e.message})}finally{l(!1)}},disabled:r,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:r?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),t.jsx("span",{children:"Saving..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(F,{className:"w-5 h-5"}),t.jsx("span",{children:"Save Configuration"})]})})})]}),t.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-blue-400 mb-3 flex items-center gap-2",children:[t.jsx(g,{className:"w-5 h-5"}),"How it works"]}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsxs("li",{children:["🟢 ",t.jsx("strong",{children:"Green cards"})," - page is active and accessible to users"]}),t.jsxs("li",{children:["⚫ ",t.jsx("strong",{children:"Gray cards"})," - page is hidden (returns 404 or redirect)"]}),t.jsxs("li",{children:["🔘 ",t.jsx("strong",{children:"Category buttons"})," - quickly enable/disable all pages in category"]}),t.jsxs("li",{children:["💾 ",t.jsx("strong",{children:"After changes"}),' - click "Save" to apply changes']}),t.jsxs("li",{children:["⚠️ ",t.jsx("strong",{children:"Important:"})," Disabling Admin Panel will block access to settings"]})]})]})]})}function Ce({onNavigate:e}){const[r,a]=_.useState("dashboard"),[i,n]=_.useState(!0),o=[{id:"dashboard",label:"Dashboard",icon:B},{id:"stripe",label:"Stripe Configuration",icon:I},{id:"api-keys",label:"API Keys & Services",icon:T},{id:"sitemap",label:"Site Map & Pages",icon:Q},{id:"users",label:"User Management",icon:d},{id:"blog",label:"Blog Management",icon:h},{id:"news",label:"News Management",icon:H},{id:"careers",label:"Careers Management",icon:V},{id:"email",label:"Email Templates",icon:l},{id:"marketing",label:"Marketing Documents",icon:Z},{id:"analytics",label:"Analytics",icon:z},{id:"access",label:"Access Control",icon:c},{id:"settings",label:"Settings",icon:x}];return t.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950",children:t.jsxs("div",{className:"flex h-screen pt-16",children:[t.jsxs("aside",{className:(i?"w-64":"w-20")+" bg-gradient-to-b from-gray-900 to-gray-950 border-r border-gray-800/50 transition-all duration-300 flex flex-col",children:[t.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-800/50",children:[i&&t.jsx("h2",{className:"text-lg font-bold text-white",children:"Admin Panel"}),t.jsx("button",{onClick:()=>n(!i),className:"p-2 hover:bg-gray-800/50 rounded-lg transition-colors",children:i?t.jsx(s,{className:"h-5 w-5 text-gray-400"}):t.jsx(k,{className:"h-5 w-5 text-gray-400"})})]}),t.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:o.map(e=>{const s=e.icon,l=r===e.id;return t.jsxs("button",{onClick:()=>a(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-300 "+(l?"bg-gradient-to-r from-orange-900/30 to-orange-800/20 border border-orange-600/30 text-orange-500":"text-gray-400 hover:bg-gray-800/50 border border-transparent hover:border-gray-700/50"),children:[t.jsx(s,{className:"h-5 w-5 flex-shrink-0"}),i&&t.jsx("span",{className:"font-medium whitespace-nowrap",children:e.label})]},e.id)})})]}),t.jsx("main",{className:"flex-1 overflow-y-auto",children:t.jsxs("div",{className:"p-8",children:[t.jsx(S,{onNavigate:e}),"dashboard"===r&&t.jsx(Pe,{}),"stripe"===r&&t.jsx(ke,{}),"api-keys"===r&&t.jsx(_e,{}),"sitemap"===r&&t.jsx(Se,{}),"users"===r&&t.jsx(Ne,{}),"blog"===r&&t.jsx(ne,{}),"news"===r&&t.jsx(ce,{}),"careers"===r&&t.jsx(me,{}),"email"===r&&t.jsx(pe,{}),"marketing"===r&&t.jsx(we,{}),"analytics"===r&&t.jsx(je,{}),"access"===r&&t.jsx(be,{}),"settings"===r&&t.jsx(fe,{})]})})]})})}function Pe(){const[e,s]=_.useState({totalUsers:0,publishedPosts:0,activeJobs:0,newsItems:0,emailTemplates:0,emailsSent:0}),[a,i]=_.useState(!0);_.useEffect(()=>{n()},[]);const n=async()=>{try{const[e,t,a,l,i,n]=await Promise.all([r.from("profiles").select("id",{count:"exact",head:!0}),r.from("blog_posts").select("id",{count:"exact",head:!0}).eq("status","published"),r.from("career_postings").select("id",{count:"exact",head:!0}).eq("status","active"),r.from("news_items").select("id",{count:"exact",head:!0}),r.from("email_templates").select("id",{count:"exact",head:!0}),r.from("email_sends").select("id",{count:"exact",head:!0})]);s({totalUsers:e.count||0,publishedPosts:t.count||0,activeJobs:a.count||0,newsItems:l.count||0,emailTemplates:i.count||0,emailsSent:n.count||0})}catch(e){}finally{i(!1)}};return a?t.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading dashboard..."}):t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Admin Dashboard"}),t.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-900/20 via-blue-800/10 to-gray-900 border border-blue-700/30 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(d,{className:"h-8 w-8 text-blue-400"}),t.jsx("span",{className:"px-2 py-1 bg-blue-900/30 border border-blue-600/30 text-blue-400 text-xs font-medium rounded-full",children:"+12%"})]}),t.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Total Users"}),t.jsx("p",{className:"text-3xl font-bold text-white",children:e.totalUsers})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-900/20 via-orange-800/10 to-gray-900 border border-orange-700/30 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(h,{className:"h-8 w-8 text-orange-400"}),t.jsx("span",{className:"px-2 py-1 bg-green-900/30 border border-green-600/30 text-green-400 text-xs font-medium rounded-full",children:"+5"})]}),t.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Published Posts"}),t.jsx("p",{className:"text-3xl font-bold text-white",children:e.publishedPosts})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-900/20 via-green-800/10 to-gray-900 border border-green-700/30 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(V,{className:"h-8 w-8 text-green-400"}),t.jsx("span",{className:"px-2 py-1 bg-green-900/30 border border-green-600/30 text-green-400 text-xs font-medium rounded-full",children:"+2"})]}),t.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Active Jobs"}),t.jsx("p",{className:"text-3xl font-bold text-white",children:e.activeJobs})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 via-purple-800/10 to-gray-900 border border-purple-700/30 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(H,{className:"h-8 w-8 text-purple-400"}),t.jsx("span",{className:"px-2 py-1 bg-purple-900/30 border border-purple-600/30 text-purple-400 text-xs font-medium rounded-full",children:e.newsItems})]}),t.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"News Items"}),t.jsx("p",{className:"text-3xl font-bold text-white",children:e.newsItems})]}),t.jsxs("div",{className:"bg-gradient-to-br from-cyan-900/20 via-cyan-800/10 to-gray-900 border border-cyan-700/30 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(l,{className:"h-8 w-8 text-cyan-400"}),t.jsx("span",{className:"px-2 py-1 bg-cyan-900/30 border border-cyan-600/30 text-cyan-400 text-xs font-medium rounded-full",children:e.emailTemplates})]}),t.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Email Templates"}),t.jsx("p",{className:"text-3xl font-bold text-white",children:e.emailTemplates})]}),t.jsxs("div",{className:"bg-gradient-to-br from-pink-900/20 via-pink-800/10 to-gray-900 border border-pink-700/30 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(z,{className:"h-8 w-8 text-pink-400"}),t.jsx("span",{className:"px-2 py-1 bg-pink-900/30 border border-pink-600/30 text-pink-400 text-xs font-medium rounded-full",children:"+24"})]}),t.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Emails Sent"}),t.jsx("p",{className:"text-3xl font-bold text-white",children:e.emailsSent})]})]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"grid gap-3",children:[t.jsxs("button",{className:"flex items-center gap-3 p-3 bg-gray-800/50 border border-gray-700/30 rounded-lg hover:bg-gray-800 transition-colors text-left",children:[t.jsx(h,{className:"h-5 w-5 text-orange-400"}),t.jsx("span",{className:"text-white text-sm",children:"Create New Blog Post"})]}),t.jsxs("button",{className:"flex items-center gap-3 p-3 bg-gray-800/50 border border-gray-700/30 rounded-lg hover:bg-gray-800 transition-colors text-left",children:[t.jsx(H,{className:"h-5 w-5 text-purple-400"}),t.jsx("span",{className:"text-white text-sm",children:"Add News Item"})]}),t.jsxs("button",{className:"flex items-center gap-3 p-3 bg-gray-800/50 border border-gray-700/30 rounded-lg hover:bg-gray-800 transition-colors text-left",children:[t.jsx(V,{className:"h-5 w-5 text-green-400"}),t.jsx("span",{className:"text-white text-sm",children:"Post New Job"})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-gray-700/50 rounded-xl p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"System Status"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 border border-gray-700/30 rounded-lg",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Database"}),t.jsx("span",{className:"px-2 py-1 bg-green-900/30 border border-green-600/30 text-green-400 text-xs font-medium rounded-full",children:"Operational"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 border border-gray-700/30 rounded-lg",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"API"}),t.jsx("span",{className:"px-2 py-1 bg-green-900/30 border border-green-600/30 text-green-400 text-xs font-medium rounded-full",children:"Operational"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 border border-gray-700/30 rounded-lg",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Email Service"}),t.jsx("span",{className:"px-2 py-1 bg-green-900/30 border border-green-600/30 text-green-400 text-xs font-medium rounded-full",children:"Operational"})]})]})]})]})]})}export{Ce as default};
