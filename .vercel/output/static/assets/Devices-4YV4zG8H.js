import{d as e,j as r,H as a,k as s,c as t,N as d,A as l,a as n,h as i,Z as c,F as x,p as o,m as g,f as m,s as b,b as h,o as u}from"./index-D6X-thcP.js";import{r as p}from"./react-vendor-Dq_i0H7_.js";import{C as y}from"./check-circle-BTBdlDbT.js";import{R as j}from"./refresh-cw-CbFjXYGJ.js";import{T as k}from"./trash-2-Bn70IA3x.js";import{I as N,W as f}from"./watch-BYfp6vGJ.js";import"./supabase-D2F8Vsqq.js";
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),w=e("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),_=e("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),C=e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),A=e("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function R({title:e,description:a,aiResponse:s,secondOpinion:t,type:d,icon:l,category:i}){const c={spike:{bg:"bg-orange-50 dark:bg-orange-900/20",border:"border-orange-200 dark:border-orange-800",iconBg:"bg-orange-100 dark:bg-orange-900/30",iconColor:"text-orange-600 dark:text-orange-400",badge:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-400"},declined:{bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-800",iconBg:"bg-yellow-100 dark:bg-yellow-900/30",iconColor:"text-yellow-600 dark:text-yellow-400",badge:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400"},stabilized:{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",iconBg:"bg-green-100 dark:bg-green-900/30",iconColor:"text-green-600 dark:text-green-400",badge:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400"},improved:{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",iconBg:"bg-green-100 dark:bg-green-900/30",iconColor:"text-green-600 dark:text-green-400",badge:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400"},balanced:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-800",iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400",badge:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400"},overload:{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800",iconBg:"bg-red-100 dark:bg-red-900/30",iconColor:"text-red-600 dark:text-red-400",badge:"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"}}[d];return r.jsxs("div",{className:`${c.bg} rounded-xl p-6 border ${c.border}`,children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`${c.iconBg} rounded-lg p-3 flex-shrink-0`,children:r.jsx(l,{className:`h-6 w-6 ${c.iconColor}`})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-lg mb-1",children:e}),r.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-semibold ${c.badge}`,children:"cgm"===i?"Глюкоза CGM":"sleep_hrv"===i?"Сон + HRV":"Активность"})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:r.jsx("strong",{className:"text-gray-900 dark:text-white",children:"Описание системы:"})}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:a})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-start space-x-2 mb-2",children:[r.jsx(n,{className:"h-4 w-4 text-purple-600 dark:text-purple-400 flex-shrink-0 mt-0.5"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white",children:"AI Реакция:"})]}),r.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 italic",children:['"',s,'"']})]}),t&&r.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[r.jsx("p",{className:"text-xs font-semibold text-purple-900 dark:text-purple-400 mb-2",children:"Предложение второго мнения:"}),r.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 italic",children:['"',t,'"']})]})]})]})}function D(){return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 border-2 border-purple-200 dark:border-purple-800",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:r.jsx(w,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Сценарий 1 — Непрерывный мониторинг глюкозы (CGM)"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:"Сенсор глюкозы передаёт значения почти в реальном времени. Платформа не ставит диагнозы — она объясняет, что означает динамика и как мягко стабилизировать питание и поведение."}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-purple-200 dark:border-purple-700",children:[r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:r.jsx("strong",{className:"text-purple-700 dark:text-purple-400",children:"Поведение системы:"})}),r.jsxs("ul",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-1 mt-2 ml-4",children:[r.jsx("li",{children:"• данные поступают автоматически"}),r.jsx("li",{children:"• если скачок — AI объясняет причину поведенческим языком"}),r.jsx("li",{children:"• если стабилизация — AI усиливает мотивацию"})]})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(R,{title:"Скачок глюкозы",description:"Резкие колебания уровня глюкозы чаще обычного. Система распознаёт паттерн нестабильности и предлагает поведенческое объяснение.",aiResponse:"Сегодня уровень глюкозы менялся резко чаще обычного. Это не диагноз, а сигнал нестабильности. Хотите объяснение, почему это может происходить и какие шаги помогут выровнять динамику?",secondOpinion:"Могу объяснить двумя подходами: Opinion A — физиология и метаболика, Opinion B — поведенческий образ жизни. Вы сможете сравнить и выбрать тот, который вам ближе.",type:"spike",icon:t,category:"cgm"}),r.jsx(R,{title:"Стабилизация глюкозы",description:"Уровень глюкозы стал более стабильным. Система усиливает положительное подкрепление и мотивацию.",aiResponse:"Глюкоза стала стабильнее — это хороший признак. Организм легче регулирует энергию и настроение.",type:"stabilized",icon:C,category:"cgm"})]})]})}function S(){return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border-2 border-blue-200 dark:border-blue-800",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:r.jsx(d,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Сценарий 2 — Сон + Нервная система (HRV)"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Мы отслеживаем не только количество сна, но и качество восстановления нервной системы через вариабельность сердечного ритма."})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(R,{title:"Ухудшение восстановления",description:"Качество сна снизилось, HRV тоже снижается. Система распознаёт перегрузочный режим и предлагает мягкое восстановление.",aiResponse:"Сон стал менее восстановительным, и HRV тоже снизился. Это признак общего перегрузочного режима. Важно мягкое восстановление, а не дисциплина.",secondOpinion:"Хотите получить подробное объяснение причин? Могу показать физиологическое и жизненное/поведенческое объяснение рядом, чтобы вы выбрали наиболее полезное.",type:"declined",icon:A,category:"sleep_hrv"}),r.jsx(R,{title:"Улучшение восстановления",description:"Качество сна повышается, HRV растёт. Система подтверждает успешную адаптацию организма.",aiResponse:"Восстановление усилилось, и нервная система реагирует лучше. Это значит, что организм адаптируется и выходит на ресурс.",type:"improved",icon:t,category:"sleep_hrv"})]})]})}function M(){return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 dark:from-green-900/20 dark:to-teal-900/20 rounded-xl p-6 border-2 border-green-200 dark:border-green-800",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:r.jsx(l,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Сценарий 3 — Нагрузка / Двигательная активность"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Платформа не просто считает шаги — она оценивает адаптацию организма к нагрузке."})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[r.jsx(R,{title:"Перегрузка",description:"Нагрузка превышает восстановительное окно. Система предупреждает о дисбалансе без alarm-тона.",aiResponse:"Нагрузка выше восстановительного окна. Это не плохо, но нужен баланс, иначе нервная система начнёт снижать адаптацию.",type:"overload",icon:t,category:"activity"}),r.jsx(R,{title:"Баланс",description:"Нагрузка и восстановление синхронизированы. Система подтверждает оптимальную адаптацию.",aiResponse:"Нагрузка и восстановление движутся синхронно. Организм хорошо адаптируется и переносит тренировочный стресс.",type:"balanced",icon:C,category:"activity"}),r.jsx(R,{title:"Накопленная усталость",description:"Темп нагрузки превышает скорость восстановления. Система предлагает мягкие способы выхода.",aiResponse:"Похоже, вы двигаетесь быстрее, чем успеваете восстанавливаться. Могу подсказать способы мягкого восстановления, чтобы не уйти в накопленную усталость.",type:"declined",icon:A,category:"activity"})]})]})}function W(){return r.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-xl p-6 border-2 border-teal-200 dark:border-teal-800",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-teal-100 dark:bg-teal-900/30 rounded-lg flex items-center justify-center",children:r.jsx(a,{className:"h-6 w-6 text-teal-600 dark:text-teal-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"Общая логика для всех сценариев"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-teal-200 dark:border-teal-700",children:[r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:r.jsx("strong",{className:"text-teal-700 dark:text-teal-400",children:"Психологически безопасный язык:"})}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Платформа ни разу не формулирует это как "болезнь" или "опасность". Только как "тенденцию", "сигнал", "адаптацию" или "ресурс". Это делает взаимодействие психологически безопасным и устойчивым.'})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-teal-200 dark:border-teal-700",children:[r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:r.jsx("strong",{className:"text-teal-700 dark:text-teal-400",children:"Динамика, а не цифры:"})}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Мы отслеживаем динамику, а не единичные значения. Смысл рождается во времени, а не в цифре."})]}),r.jsxs("div",{className:"bg-teal-50 dark:bg-teal-900/20 rounded-lg p-4 border border-teal-300 dark:border-teal-700",children:[r.jsx("p",{className:"text-sm font-semibold text-teal-900 dark:text-teal-400 mb-2",children:"Ключевые термины:"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Тенденция"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Сигнал"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Адаптация"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Ресурс"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Динамика"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Восстановление"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border-2 border-teal-300 dark:border-teal-700",children:[r.jsxs("div",{className:"flex items-start space-x-2 mb-2",children:[r.jsx(s,{className:"h-4 w-4 text-teal-600 dark:text-teal-400 flex-shrink-0 mt-0.5"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white",children:"Никогда не используем:"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-xs rounded line-through",children:"болезнь"}),r.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-xs rounded line-through",children:"опасность"}),r.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-xs rounded line-through",children:"тревога"}),r.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-xs rounded line-through",children:"риск"}),r.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-xs rounded line-through",children:"проблема"})]})]})]})]})]})})}function B(){return r.jsxs("div",{className:"space-y-8",children:[r.jsx(W,{}),r.jsx(D,{}),r.jsx(S,{}),r.jsx(M,{})]})}function I(){return r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:r.jsx(c,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Режимы передачи данных"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:"После подключения устройство может передавать данные либо ежедневно, либо несколько раз в день, либо в реальном времени — в зависимости от типа сенсора и выбранных настроек."}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-green-200 dark:border-green-700",children:r.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[r.jsx("strong",{className:"text-green-700 dark:text-green-400",children:"Непрерывный мониторинг:"})," Если устройство поддерживает непрерывный мониторинг (например, Dexcom, Libre или некоторые браслеты), BioMath Core может реагировать сразу, когда показатель выходит за нормальные пределы. Реакция не является медицинским диагнозом — это объяснение тренда и подсказка, как скорректировать поведение."]})})]})]})})}function H(){return r.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:r.jsx(x,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Влияние на отчеты"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Когда пользователь создает новый отчет, подключенные устройства автоматически дают дополнительные контекстные данные. Это позволяет AI формировать выводы не только на основе анкет и слов пользователя, но и на основе реальных физиологических сигналов. Отчеты становятся точнее и персональнее."})]})]})})}function q(){return r.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-800",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:r.jsx(n,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Влияние на AI Assistant"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:"В чате AI Assistant может опираться на текущие показатели. Если, например, HRV падает несколько дней подряд, AI подсказывает, что нервная система перегружена, и рекомендует восстановление. Если глюкоза нестабильна, AI объясняет почему и какие шаги помогут сгладить скачки."}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-purple-200 dark:border-purple-700",children:r.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[r.jsx("strong",{className:"text-purple-700 dark:text-purple-400",children:"Второе мнение:"})," Если включено второе мнение, оба мнения рассматривают одни и те же данные, но объясняют их разными подходами: строгий физиологический анализ и адаптивное поведенческое объяснение."]})})]})]})})}function O(){return r.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 rounded-xl p-6 border border-orange-200 dark:border-orange-800",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center",children:r.jsx(v,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Мягкие подсказки и нуджи"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:"Пользователь может включить мягкие нуджи — короткие подсказки, когда показатели идут в неблагоприятном направлении. Это не тревога и не диагноз. Это мягкое напоминание, что стоит сделать шаг в сторону стабилизации: отдохнуть, подышать, выпить воды, прогуляться или снизить нагрузку."}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-orange-200 dark:border-orange-700",children:r.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[r.jsx("strong",{className:"text-orange-700 dark:text-orange-400",children:"Позитивное подкрепление:"})," Если показатели резко улучшаются — мы тоже сообщаем. Это укрепляет мотивацию и формирует позитивное подкрепление."]})})]})]})})}function T(){return r.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 dark:from-gray-900/40 dark:to-slate-900/40 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:r.jsx(o,{className:"h-6 w-6 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Настройки синхронизации"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"Пользователь сам решает, какие данные использовать и в каком режиме:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx(g,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Только ночью"})]}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Для анализа сна"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx(t,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),r.jsx("span",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Только утром"})]}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Для анализа восстановления"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx(g,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"}),r.jsx("span",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Каждые несколько часов"})]}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Общая динамика"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx(c,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"}),r.jsx("span",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Непрерывно"})]}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Если сенсор поддерживает"})]})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-4",children:"Настройки можно менять без повторного подключения устройства."})]})]})})}function F(){return r.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-xl p-6 border-2 border-teal-200 dark:border-teal-800",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-teal-100 dark:bg-teal-900/30 rounded-lg flex items-center justify-center",children:r.jsx(t,{className:"h-6 w-6 text-teal-600 dark:text-teal-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"Почему устройства важны"}),r.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 leading-relaxed",children:"Устройства убирают догадки. Здоровье становится не набором ощущений, а измеримым процессом. Это помогает замечать не симптомы, а ранние сигналы, пока всё ещё можно скорректировать без стресса и вмешательств."})]})]})})}function G(){return r.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 border border-gray-300 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(s,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm mb-1",children:"Продвинутая аналитика"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Некоторые устройства могут отдавать больше параметров, чем другие. Платформа не должна навязывать дополнительный интерфейс: если есть лишние данные, они обогащают аналитику, но не усложняют использование. Интерфейс остаётся одинаковым, независимо от глубины данных."})]})]})})}function $(){return r.jsxs("div",{className:"space-y-6",children:[r.jsx(F,{}),r.jsx(I,{}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(H,{}),r.jsx(q,{})]}),r.jsx(O,{}),r.jsx(T,{}),r.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-xl p-6 border-2 border-indigo-200 dark:border-indigo-800",children:[r.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center",children:r.jsx(i,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Примеры реальных сценариев"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Как платформа реагирует на изменения в данных устройств. Все реакции сформулированы в мягкой, неалармистской форме — как подсказки, а не диагнозы."})]})]}),r.jsx(B,{})]}),r.jsx(G,{})]})}function z(){return r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(m,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[r.jsx("strong",{className:"text-blue-700 dark:text-blue-400",children:"Connecting a device"})," is a way to give the platform more precision. We don't just collect numbers, we explain their meaning and connect them with your state and habits."]})})]})})}function Y(){return r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:r.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"You can connect a watch, bracelet, ring, or medical sensor. After connecting, BioMath Core will automatically update data and use it in reports and recommendations."})})}function L(){return r.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(y,{className:"h-5 w-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),r.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[r.jsx("strong",{className:"text-green-700 dark:text-green-400",children:"Done."})," The next sync will happen automatically. You don't need to do anything manually."]})]})})}function V(){return r.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-xl p-6 border-2 border-teal-200 dark:border-teal-800",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-teal-100 dark:bg-teal-900/30 rounded-lg flex items-center justify-center",children:r.jsx(t,{className:"h-6 w-6 text-teal-600 dark:text-teal-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Why This Matters"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Devices help notice changes early, before symptoms appear. It's like a navigator for your body: it suggests when you're overloaded, when recovery is happening, and what can be adjusted gently and timely."})]})]})})}function P({type:e}){const a={token_expired:{icon:s,color:"red",title:"Access expired",message:"Device access has expired. Click 'Refresh' so we can read metrics again.",action:"Refresh Access",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",iconColor:"text-red-600 dark:text-red-400"},no_data:{icon:s,color:"yellow",title:"No new data",message:"The device did not send new data today. Perhaps it was not worn or was not synced. We will try again automatically.",action:null,bgColor:"bg-yellow-50 dark:bg-yellow-900/20",borderColor:"border-yellow-200 dark:border-yellow-800",iconColor:"text-yellow-600 dark:text-yellow-400"},service_error:{icon:s,color:"orange",title:"Manufacturer unavailable",message:"Manufacturer is temporarily unavailable. This is a common situation. We will try syncing later.",action:null,bgColor:"bg-orange-50 dark:bg-orange-900/20",borderColor:"border-orange-200 dark:border-orange-800",iconColor:"text-orange-600 dark:text-orange-400"},manual_disconnect:{icon:s,color:"gray",title:"Device disconnected",message:"The device is no longer sending data. You can reconnect it at any time.",action:"Reconnect",bgColor:"bg-gray-50 dark:bg-gray-900",borderColor:"border-gray-200 dark:border-gray-700",iconColor:"text-gray-600 dark:text-gray-400"},bluetooth_sync:{icon:s,color:"blue",title:"Phone sync",message:"The device may not have synced with the phone yet. Just open the manufacturer app - everything else will happen automatically.",action:null,bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",iconColor:"text-blue-600 dark:text-blue-400"}}[e],t=a.icon;return r.jsx("div",{className:`${a.bgColor} rounded-lg p-3 border ${a.borderColor}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(t,{className:`h-4 w-4 ${a.iconColor} flex-shrink-0 mt-0.5`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-900 dark:text-white mb-1",children:a.title}),r.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 mb-2",children:a.message}),a.action&&r.jsx("button",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400 hover:underline",children:a.action})]})]})})}function E({onNavigate:e}){const[s,d]=p.useState([]),[n,x]=p.useState([]),[o,m]=p.useState(null),[v,C]=p.useState("select"),[A,R]=p.useState(!1),[D,S]=p.useState(!1),[M,W]=p.useState(!1);p.useEffect(()=>{B(),I()},[]);const B=async()=>{const{data:e}=await b.from("device_brands").select("*").eq("active",!0).order("sort_order");e&&d(e)},I=async()=>{const{data:{user:e}}=await b.auth.getUser();if(!e)return;const{data:r}=await b.from("user_devices").select("*, brand:device_brands(*)").eq("user_id",e.id).order("connected_at",{ascending:!1});r&&x(r)},H=async()=>{o&&(R(!0),setTimeout(async()=>{const{data:{user:e}}=await b.auth.getUser();if(!e)return;const{data:r}=await b.from("user_devices").insert({user_id:e.id,brand_id:o.id,device_name:o.name,status:"connected",sync_frequency:"daily",last_sync_at:(new Date).toISOString(),last_sync_status:"success"}).select().single();r&&(C("success"),R(!1),setTimeout(()=>{C("select"),m(null),I()},4e3))},2e3))},q=e=>{switch(e){case"smartwatch":return r.jsx(f,{className:"h-6 w-6"});case"fitness_tracker":default:return r.jsx(l,{className:"h-6 w-6"});case"smart_ring":return r.jsx(a,{className:"h-6 w-6"});case"cgm":return r.jsx(w,{className:"h-6 w-6"});case"blood_pressure":return r.jsx(_,{className:"h-6 w-6"});case"body_composition":return r.jsx(u,{className:"h-6 w-6"})}},O=e=>{switch(e){case"connected":return"text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900/30";case"error":case"token_expired":return"text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30";default:return"text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-900/30"}},T=e=>({sleep:"Oura Ring or WHOOP",activity:"Apple Watch, Fitbit, or Samsung",glucose:"Dexcom or FreeStyle Libre",blood_pressure:"Omron",long_term:"Rings and Wristbands",universal:"Apple Watch"}[e]||"");return"explain"===v&&o?r.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 transition-colors pt-16",children:r.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border-2 border-gray-200 dark:border-gray-700 p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-blue-100 dark:bg-blue-900/30 rounded-full mb-4",children:q(o.category)}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:o.name}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Step 2 of 3 — Explanation"})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-6 mb-6 border-2 border-blue-200 dark:border-blue-800",children:[r.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[r.jsx(h,{className:"h-6 w-6 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"How It Works"}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:"We only request access to health metrics. We don't see or store logins and passwords. You can disconnect the device at any time."})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(y,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"The app automatically collects data from your device"})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(y,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"We interpret trends and suggest how to improve your health"})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(y,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Data is used in reports and AI recommendations"})]})]})]}),r.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 mb-6",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("strong",{className:"text-gray-900 dark:text-white",children:"Privacy:"})," You have full control over the connection. We don't know your device password and cannot control it. We only receive the health data you have authorized to share."]})}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:()=>C("authorize"),className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white font-semibold rounded-lg transition-colors",children:"Continue"}),r.jsx("button",{onClick:()=>{C("select"),m(null)},className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-semibold rounded-lg transition-colors",children:"Back"})]})]})})}):"authorize"===v&&o?r.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 transition-colors pt-16",children:r.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border-2 border-gray-200 dark:border-gray-700 p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full mb-4",children:r.jsx(y,{className:"h-12 w-12 text-green-600 dark:text-green-400"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Grant Access"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Step 3 of 3 — Authorization"})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-6",children:'Click "Grant Access" to allow the device to automatically transmit metrics.'}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-6",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Sync Frequency Settings"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Default: daily in the morning. You can change in settings:"}),r.jsxs("ul",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-1 text-left max-w-md mx-auto",children:[r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(g,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{children:"Daily (recommended)"})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(j,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{children:"Multiple times per day"})]}),o.supports_realtime&&r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(c,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{children:"Real-time (available for your device)"})]})]})]})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:H,disabled:A,className:"flex-1 px-6 py-3 bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white font-semibold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:A?"Connecting...":"Grant Access"}),r.jsx("button",{onClick:()=>C("explain"),disabled:A,className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-semibold rounded-lg transition-colors",children:"Back"})]})]})})}):"success"===v?r.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 transition-colors pt-16 flex items-center justify-center",children:r.jsxs("div",{className:"max-w-md mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-green-100 dark:bg-green-900/30 rounded-full mb-6",children:r.jsx(y,{className:"h-16 w-16 text-green-600 dark:text-green-400"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Device Connected!"}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-6",children:"From now on, BioMath Core will update metrics and use them in recommendations and reports."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(L,{}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[r.jsx(t,{className:"h-8 w-8 text-blue-600 dark:text-blue-400 mx-auto mb-2"}),r.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 text-center",children:[r.jsx("strong",{children:"Tip:"})," If you use the device regularly, the platform will be able to track not just what happened today, but your direction — whether your condition is improving, declining, or stable."]})]})]})]})}):r.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 transition-colors pt-16",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"My Devices"}),r.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-6",children:"Connect a device so BioMath Core can track your metrics and explain their meaning."}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(z,{}),0===n.length&&r.jsx(Y,{}),r.jsx(V,{})]})]}),n.length>0&&r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Connected Devices"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>{var a;return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border-2 border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:q(null==(a=e.brand)?void 0:a.category)}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.device_name}),r.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-semibold ${O(e.status)}`,children:"connected"===e.status?"Connected":"error"===e.status?"Action Required":"token_expired"===e.status?"Access Expired":"Disconnected"})]})]})}),r.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Frequency:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"daily"===e.sync_frequency?"Daily":"hourly"===e.sync_frequency?"Hourly":"realtime"===e.sync_frequency?"Real-time":"Manual"})]}),e.last_sync_at&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Sync:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:new Date(e.last_sync_at).toLocaleDateString("en-US")})]})]}),"connected"===e.status&&"success"===e.last_sync_status&&!e.last_sync_at&&r.jsx("div",{className:"mb-4",children:r.jsx(P,{type:"no_data"})}),"token_expired"===e.status&&r.jsx("div",{className:"mb-4",children:r.jsx(P,{type:"token_expired"})}),"error"===e.status&&e.error_message&&r.jsx("div",{className:"mb-4",children:r.jsx(P,{type:"service_error"})}),"disconnected"===e.status&&r.jsx("div",{className:"mb-4",children:r.jsx(P,{type:"manual_disconnect"})}),r.jsxs("div",{className:"flex space-x-2",children:["connected"===e.status&&r.jsxs("button",{onClick:()=>(async e=>{await b.from("user_devices").update({last_sync_at:(new Date).toISOString(),last_sync_status:"success",error_count:0}).eq("id",e),I()})(e.id),className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm",children:[r.jsx(j,{className:"h-4 w-4"}),r.jsx("span",{children:"Sync Now"})]}),r.jsx("button",{onClick:()=>(async e=>{await b.from("user_devices").update({status:"disconnected"}).eq("id",e),I()})(e.id),className:"px-3 py-2 bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-900/50 text-red-600 dark:text-red-400 rounded-lg transition-colors",title:"Disconnect",children:r.jsx(k,{className:"h-4 w-4"})})]})]},e.id)})})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Connect Device"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:()=>W(!M),className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 hover:bg-blue-200 dark:hover:bg-blue-900/50 rounded-lg transition-colors text-sm font-medium",children:[r.jsx(i,{className:"h-4 w-4"}),r.jsx("span",{children:M?"Hide Guide":"Learn More"})]}),r.jsxs("button",{onClick:()=>S(!D),className:"flex items-center space-x-2 text-blue-600 dark:text-blue-400 hover:underline text-sm",children:[r.jsx(N,{className:"h-4 w-4"}),r.jsx("span",{children:"Help Choosing"})]})]})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Choose a manufacturer: Apple, Samsung, Google Fit, Fitbit, Oura, Whoop, Dexcom, Libre, Withings, Omron, or other."})]}),D&&r.jsxs("div",{className:"mb-8 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border-2 border-blue-200 dark:border-blue-800",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Device Selection Recommendations"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"If you don't have a device yet, BioMath Core can help you choose:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"For Sleep"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:T("sleep")})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"For Activity & Exercise"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:T("activity")})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"For Glucose"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:T("glucose")})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"For Blood Pressure"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:T("blood_pressure")})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"For Long-term Trends"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:T("long_term")})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Maximum Versatility"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:T("universal")})]})]})]}),M&&r.jsx("div",{className:"mb-8",children:r.jsx($,{})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(e=>r.jsxs("button",{onClick:()=>(e=>{m(e),C("explain")})(e),className:"bg-white dark:bg-gray-800 rounded-xl p-6 border-2 border-gray-200 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500 transition-colors text-left group",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center group-hover:bg-blue-100 dark:group-hover:bg-blue-900/30 transition-colors",children:q(e.category)}),r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:e.name})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:e.description_en}),r.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:Object.entries(e.capabilities).filter(([e,r])=>r).slice(0,3).map(([e])=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-xs text-gray-700 dark:text-gray-300 rounded",children:e.replace("_"," ")},e))}),e.supports_realtime&&r.jsxs("div",{className:"flex items-center space-x-1 text-xs text-green-600 dark:text-green-400",children:[r.jsx(c,{className:"w-3 h-3"}),r.jsx("span",{children:"Real-time"})]})]},e.id))}),r.jsx("div",{className:"mt-12 bg-blue-50 dark:bg-blue-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(N,{className:"h-6 w-6 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"How It Works"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:"The app automatically collects data from your device (sleep, heart rate, stress, recovery, glucose, and other metrics) and explains their meaning in plain language. We don't just show numbers — we interpret trends and suggest how to improve your condition."}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("strong",{children:"Privacy:"})," You have full control over the connection. We don't know your device password and cannot control it. You can disconnect access at any time."]})]})]})})]})})}export{E as default};
