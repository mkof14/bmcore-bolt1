import{s as e}from"./index-D6X-thcP.js";import"./react-vendor-Dq_i0H7_.js";import"./supabase-D2F8Vsqq.js";let i=null,r=0;const c={publishableKey:"pk_test_51Ry12xFeT62z7zOTLFSGUFhQvwp4jKvI8xBj2tYiBUxEELiWVTNNqDEkCJPzgFCt7QJZ5R1Rh5S9m9vPeCMl6QKM00a0eJOqHX",currency:"usd",prices:{core:{monthly:{priceId:"price_1xxxxxxxxxx",amount:19,interval:"month"},yearly:{priceId:"price_1xxxxxxxxxx",amount:190,interval:"year",savings:38,discount:"17%"},name:"Core Plan",description:"Essential health analytics for individuals",features:["Basic health dashboard","3 service categories access","10 GB Model Archive storage","Monthly health reports","Email support","Data encryption","Device connectivity (up to 2 devices)"],limits:{aiQueries:50,devices:2,reports:4}},daily:{monthly:{priceId:"price_1xxxxxxxxxx",amount:39,interval:"month"},yearly:{priceId:"price_1xxxxxxxxxx",amount:390,interval:"year",savings:78,discount:"17%"},name:"Daily Plan",description:"Daily insights and comprehensive tracking",popular:!0,features:["Everything in Core","10 Categories","50 GB Model Archive storage","Daily health reports","AI Assistant access","Priority email support","Device connectivity (up to 5 devices)","Lab results integration","Genetic data analysis"],limits:{aiQueries:-1,devices:5,reports:12}},max:{monthly:{priceId:"price_1xxxxxxxxxx",amount:79,interval:"month"},yearly:{priceId:"price_1xxxxxxxxxx",amount:790,interval:"year",savings:158,discount:"17%"},name:"Max Plan",description:"Complete health intelligence platform",features:["Everything in Daily","All 20 service categories","200 GB Model Archive storage","Real-time AI insights","24/7 priority support","Unlimited device connectivity","Advanced predictive analytics","Custom report generation","Family accounts (up to 5 members)","API access for developers"],limits:{aiQueries:-1,devices:-1,reports:-1}}},successUrl:`${window.location.origin}/member-zone?payment=success`,cancelUrl:`${window.location.origin}/pricing?payment=cancelled`};function a(){return!!c.publishableKey&&!!c.publishableKey.startsWith("pk_")}async function t(){try{const a=await async function(){const c=Date.now();if(i&&c-r<3e5)return i;try{const{data:a,error:t}=await e.from("api_keys_configuration").select("key_name, key_value").in("key_name",["stripe_publishable","stripe_secret","stripe_webhook_secret"]);if(!t&&a&&a.length>0){const t={};a.forEach(({key_name:e,key_value:i})=>{"stripe_publishable"===e&&(t.publishable_key=i),"stripe_secret"===e&&(t.secret_key=i),"stripe_webhook_secret"===e&&(t.webhook_secret=i)});const{data:l}=await e.from("stripe_config").select("key, value").in("key",["price_daily_monthly","price_daily_yearly","price_core_monthly","price_core_yearly","price_max_monthly","price_max_yearly","currency","environment"]);return l&&l.forEach(({key:e,value:i})=>{t[e]=i}),t.price_daily_monthly||(t.price_daily_monthly=void 0),t.price_daily_yearly||(t.price_daily_yearly=void 0),t.price_core_monthly||(t.price_core_monthly=void 0),t.price_core_yearly||(t.price_core_yearly=void 0),t.price_max_monthly||(t.price_max_monthly=void 0),t.price_max_yearly||(t.price_max_yearly=void 0),i=t,r=c,t}const{data:l,error:o}=await e.from("stripe_config").select("key, value");if(o)return{publishable_key:"pk_test_51Ry12xFeT62z7zOTLFSGUFhQvwp4jKvI8xBj2tYiBUxEELiWVTNNqDEkCJPzgFCt7QJZ5R1Rh5S9m9vPeCMl6QKM00a0eJOqHX",price_daily_monthly:void 0,price_daily_yearly:void 0,price_core_monthly:void 0,price_core_yearly:void 0,price_max_monthly:void 0,price_max_yearly:void 0,currency:"usd",success_url:void 0,cancel_url:void 0};if(!l||0===l.length)return{publishable_key:"pk_test_51Ry12xFeT62z7zOTLFSGUFhQvwp4jKvI8xBj2tYiBUxEELiWVTNNqDEkCJPzgFCt7QJZ5R1Rh5S9m9vPeCMl6QKM00a0eJOqHX",price_daily_monthly:void 0,price_daily_yearly:void 0,price_core_monthly:void 0,price_core_yearly:void 0,price_max_monthly:void 0,price_max_yearly:void 0,currency:"usd",success_url:void 0,cancel_url:void 0};const y={};return l.forEach(({key:e,value:i})=>{y[e]=i}),i=y,r=c,y}catch(a){return{publishable_key:"pk_test_51Ry12xFeT62z7zOTLFSGUFhQvwp4jKvI8xBj2tYiBUxEELiWVTNNqDEkCJPzgFCt7QJZ5R1Rh5S9m9vPeCMl6QKM00a0eJOqHX",price_daily_monthly:void 0,price_daily_yearly:void 0,price_core_monthly:void 0,price_core_yearly:void 0,price_max_monthly:void 0,price_max_yearly:void 0,currency:"usd",success_url:void 0,cancel_url:void 0}}}();return a.publishable_key&&(c.publishableKey=a.publishable_key),a.currency&&(c.currency=a.currency),a.price_daily_monthly&&(c.prices.daily.monthly.priceId=a.price_daily_monthly),a.price_daily_yearly&&(c.prices.daily.yearly.priceId=a.price_daily_yearly),a.price_core_monthly&&(c.prices.core.monthly.priceId=a.price_core_monthly),a.price_core_yearly&&(c.prices.core.yearly.priceId=a.price_core_yearly),a.price_max_monthly&&(c.prices.max.monthly.priceId=a.price_max_monthly),a.price_max_yearly&&(c.prices.max.yearly.priceId=a.price_max_yearly),a.success_url&&(c.successUrl=a.success_url),a.cancel_url&&(c.cancelUrl=a.cancel_url),!0}catch(a){return!1}}export{t as loadStripeConfigFromDatabase,c as stripeConfig,a as validateStripeConfig};
